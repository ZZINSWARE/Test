local highlighter = {}
local keywords = {
	lua = {
		"and", "break", "or", "else", "elseif", "if", "then", "until", "repeat", "while", "do", "for", "in", "end",
		"local", "return", "function", "export"
	},
	rbx = {
		"game", "workspace", "script", "math", "string", "table", "task", "wait", "select", "next", "Enum",
		"error", "warn", "tick", "assert", "shared", "loadstring", "tonumber", "tostring", "type",
		"typeof", "unpack", "print", "Instance", "CFrame", "Vector3", "Vector2", "Color3", "UDim", "UDim2", "Ray", "BrickColor",
		"OverlapParams", "RaycastParams", "Axes", "Random", "Region3", "Rect", "TweenInfo",
		"collectgarbage", "not", "utf8", "pcall", "xpcall", "_G", "setmetatable", "getmetatable", "os", "pairs", "ipairs"
	},
	operators = {
		"#", "+", "-", "*", "%", "/", "^", "=", "~", "=", "<", ">", ",", ".", "(", ")", "{", "}", "[", "]", ";", ":"
	}
}

local colors = {
	numbers = Color3.fromRGB(255, 198, 0),
	boolean = Color3.fromRGB(214, 128, 23),
	operator = Color3.fromRGB(232, 210, 40),
	lua = Color3.fromRGB(160, 87, 248),
	rbx = Color3.fromRGB(146, 180, 253),
	str = Color3.fromRGB(56, 241, 87),
	comment = Color3.fromRGB(103, 110, 149),
	null = Color3.fromRGB(79, 79, 79),
	call = Color3.fromRGB(130, 170, 255),
	self_call = Color3.fromRGB(227, 201, 141),
	local_color = Color3.fromRGB(199, 146, 234),
	function_color = Color3.fromRGB(241, 122, 124),
	self_color = Color3.fromRGB(146, 134, 234),
	local_property = Color3.fromRGB(129, 222, 255),
}

local function createKeywordSet(keywords)
	local keywordSet = {}
	for _, keyword in ipairs(keywords) do
		keywordSet[keyword] = true
	end
	return keywordSet
end

local luaSet = createKeywordSet(keywords.lua)
local rbxSet = createKeywordSet(keywords.rbx)
local operatorsSet = createKeywordSet(keywords.operators)

local function getHighlight(tokens, index)
	local token = tokens[index]
	if colors[token .. "_color"] then
		return colors[token .. "_color"]
	end
	if tonumber(token) then
		return colors.numbers
	elseif token == "nil" then
		return colors.null
	elseif token:sub(1, 2) == "--" then
		return colors.comment
	elseif operatorsSet[token] then
		return colors.operator
	elseif luaSet[token] then
		return colors.rbx
	elseif rbxSet[token] then
		return colors.lua
	elseif token:sub(1, 1) == "\"" or token:sub(1, 1) == "\'" then
		return colors.str
	elseif token == "true" or token == "false" then
		return colors.boolean
	end
	if tokens[index + 1] == "(" then
		if tokens[index - 1] == ":" then
			return colors.self_call
		end
		return colors.call
	end
	if tokens[index - 1] == "." then
		if tokens[index - 2] == "Enum" then
			return colors.rbx
		end
		return colors.local_property
	end
end

function highlighter.run(source)
	local maxLength = 50000
	local processSource = source
	if #source > maxLength then
		processSource = source:sub(1, maxLength)
	end
	local tokens = {}
	local currentToken = ""
	local inString = false
	local inComment = false
	local commentPersist = false
	for i = 1, #processSource do
		local character = processSource:sub(i, i)
		if inComment then
			if character == "\n" and not commentPersist then
				table.insert(tokens, currentToken)
				table.insert(tokens, character)
				currentToken = ""
				inComment = false
			elseif processSource:sub(i - 1, i) == "]]" and commentPersist then
				currentToken = currentToken .. "]"
				table.insert(tokens, currentToken)
				currentToken = ""
				inComment = false
				commentPersist = false
			else
				currentToken = currentToken .. character
			end
		elseif inString then
			if character == inString and processSource:sub(i-1, i-1) ~= "\\" or character == "\n" then
				currentToken = currentToken .. character
				inString = false
			else
				currentToken = currentToken .. character
			end
		else
			if processSource:sub(i, i + 1) == "--" then
				table.insert(tokens, currentToken)
				currentToken = "-"
				inComment = true
				commentPersist = processSource:sub(i + 2, i + 3) == "[["
			elseif character == "\"" or character == "\'" then
				table.insert(tokens, currentToken)
				currentToken = character
				inString = character
			elseif operatorsSet[character] then
				table.insert(tokens, currentToken)
				table.insert(tokens, character)
				currentToken = ""
			elseif character:match("[%w_]") then
				currentToken = currentToken .. character
			else
				table.insert(tokens, currentToken)
				table.insert(tokens, character)
				currentToken = ""
			end
		end
	end
	table.insert(tokens, currentToken)
	local highlighted = {}
	for i, token in ipairs(tokens) do
		local highlight = getHighlight(tokens, i)
		if highlight then
			local syntax = string.format("<font color = \"#%s\">%s</font>", highlight:ToHex(), token:gsub("<", "&lt;"):gsub(">", "&gt;"))
			table.insert(highlighted, syntax)
		else
			table.insert(highlighted, token)
		end
	end
	return table.concat(highlighted)
end

local Settings = {
	Font = "Code",
	SyntaxHighlighting = true,
	LastScript = "",
	Transparency = 0,
	AnimationSpeed = 1.0,
	RoundedCorners = 6,
	FPSCap = 60,
	DisableAnimations = false,
	DevMode = false,
}

local FontOptions = {
	["Original"] = Enum.Font.Code,
	["Legacy"] = Enum.Font.Legacy,
	["Code"] = Enum.Font.Code,
	["Arcade"] = Enum.Font.Arcade,
	["Gotham"] = Enum.Font.Gotham,
	["SourceSans"] = Enum.Font.SourceSans
}

local ConfigSystem = {
	SavedConfigs = {},
	CurrentConfig = "Default"
}

local Windows11UI = Instance.new("ScreenGui")
local Topbar = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Frame = Instance.new("Frame")
local UICorner_2 = Instance.new("UICorner")
local TabFrame = Instance.new("Frame")
local InfoTab = Instance.new("ImageButton")
local EditorTab = Instance.new("ImageButton")
local SearcherTab = Instance.new("ImageButton")
local GameScriptsTab = Instance.new("ImageButton")
local UniversalScriptsTab = Instance.new("ImageButton")
local SettingsTab = Instance.new("ImageButton")
local InfoFrame = Instance.new("Frame")
local InfoBackground = Instance.new("ImageLabel")
local DiscordLabel = Instance.new("TextLabel")
local DiscordIcon = Instance.new("ImageLabel")
local CopyDiscordBtn = Instance.new("ImageButton")
local CopyDiscordLabel = Instance.new("TextLabel")
local EditorFrame = Instance.new("Frame")
local Source = Instance.new("TextBox")
local Inject = Instance.new("ImageButton")
local Execute = Instance.new("ImageButton")
local Clear = Instance.new("ImageButton")
local Paste = Instance.new("ImageButton")
local Copy = Instance.new("ImageButton")
local OpenConsole = Instance.new("ImageButton")
local SearcherFrame = Instance.new("Frame")
local SearchBox = Instance.new("TextBox")
local SearchButton = Instance.new("ImageButton")
local FilterFrame = Instance.new("Frame")
local FreeFilter = Instance.new("TextButton")
local VerifiedFilter = Instance.new("TextButton")
local TrendingFilter = Instance.new("TextButton")
local MostViewedFilter = Instance.new("TextButton")
local UnverifiedFilter = Instance.new("TextButton")
local ScriptList = Instance.new("ScrollingFrame")
local ListLayout = Instance.new("UIListLayout")
local PageFrame = Instance.new("Frame")
local PrevPageBtn = Instance.new("ImageButton")
local PageLabel = Instance.new("TextLabel")
local NextPageBtn = Instance.new("ImageButton")
local GameScriptsFrame = Instance.new("Frame")
local GameSearchBox = Instance.new("TextBox")
local GameSearchButton = Instance.new("ImageButton")
local GameScriptsList = Instance.new("ScrollingFrame")
local GameListLayout = Instance.new("UIListLayout")
local UniversalScriptsFrame = Instance.new("Frame")
local UniSearchBox = Instance.new("TextBox")
local UniSearchButton = Instance.new("ImageButton")
local UniScriptsList = Instance.new("ScrollingFrame")
local UniListLayout = Instance.new("UIListLayout")
local SettingsFrame = Instance.new("Frame")
local FilesFrame = Instance.new("Frame")
local FilesHeader = Instance.new("Frame")
local FilesIcon = Instance.new("ImageLabel")
local FilesLabel = Instance.new("TextLabel")
local FilesList = Instance.new("ScrollingFrame")
local FilesListLayout = Instance.new("UIListLayout")
local FileNameBox = Instance.new("TextBox")
local SaveFileBtn = Instance.new("ImageButton")
local LoadFileBtn = Instance.new("ImageButton")
local RenameFileBtn = Instance.new("ImageButton")
local DeleteFileBtn = Instance.new("ImageButton")
local ExecuteFileBtn = Instance.new("ImageButton")
local CloseKeybind = Instance.new("TextLabel")
local TextLabel = Instance.new("TextLabel")

local function ShowNotification(title, message, notifType, duration)
	if Settings.DisableAnimations then
		duration = 0.1
	end
	duration = duration or 3
	local parent = Windows11UI
	local NotifFrame = Instance.new("Frame")
	NotifFrame.Name = "Notification"
	NotifFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	NotifFrame.BorderSizePixel = 0
	NotifFrame.Position = UDim2.new(0.5, -200, 0, -100)
	NotifFrame.Size = UDim2.new(0, 400, 0, 70)
	NotifFrame.ZIndex = 1000
	NotifFrame.Parent = parent
	NotifFrame.BackgroundTransparency = Settings.Transparency
	local NotifCorner = Instance.new("UICorner")
	NotifCorner.CornerRadius = UDim.new(0, Settings.RoundedCorners)
	NotifCorner.Parent = NotifFrame
	local NotifStroke = Instance.new("UIStroke")
	NotifStroke.Color = notifType == "Error" and Color3.fromRGB(255, 50, 50) or Color3.fromRGB(50, 150, 255)
	NotifStroke.Thickness = 2
	NotifStroke.Parent = NotifFrame
	local NotifGradient = Instance.new("UIGradient")
	NotifGradient.Color = ColorSequence.new({
		ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 30, 30)),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 20))
	})
	NotifGradient.Rotation = 90
	NotifGradient.Parent = NotifFrame
	local NotifIcon = Instance.new("ImageLabel")
	NotifIcon.Name = "Icon"
	NotifIcon.Parent = NotifFrame
	NotifIcon.BackgroundTransparency = 1
	NotifIcon.Position = UDim2.new(0, 15, 0.5, -20)
	NotifIcon.Size = UDim2.new(0, 40, 0, 40)
	NotifIcon.Image = notifType == "Error" and "rbxassetid://137703776500811" or "rbxassetid://9405926389"
	NotifIcon.ImageColor3 = notifType == "Error" and Color3.fromRGB(255, 100, 100) or Color3.fromRGB(100, 200, 255)
	NotifIcon.ZIndex = 1001
	local NotifTitle = Instance.new("TextLabel")
	NotifTitle.Name = "Title"
	NotifTitle.Parent = NotifFrame
	NotifTitle.BackgroundTransparency = 1
	NotifTitle.Position = UDim2.new(0, 65, 0, 8)
	NotifTitle.Size = UDim2.new(1, -75, 0, 22)
	NotifTitle.Font = Enum.Font.GothamBold
	NotifTitle.Text = title
	NotifTitle.TextColor3 = notifType == "Error" and Color3.fromRGB(255, 100, 100) or Color3.fromRGB(255, 255, 255)
	NotifTitle.TextSize = 14
	NotifTitle.TextXAlignment = Enum.TextXAlignment.Left
	NotifTitle.ZIndex = 1001
	local NotifMessage = Instance.new("TextLabel")
	NotifMessage.Name = "Message"
	NotifMessage.Parent = NotifFrame
	NotifMessage.BackgroundTransparency = 1
	NotifMessage.Position = UDim2.new(0, 65, 0, 32)
	NotifMessage.Size = UDim2.new(1, -75, 0, 30)
	NotifMessage.Font = Enum.Font.Gotham
	NotifMessage.Text = message
	NotifMessage.TextColor3 = Color3.fromRGB(180, 180, 180)
	NotifMessage.TextSize = 12
	NotifMessage.TextXAlignment = Enum.TextXAlignment.Left
	NotifMessage.TextWrapped = true
	NotifMessage.ZIndex = 1001
	local CloseBtn = Instance.new("TextButton")
	CloseBtn.Name = "Close"
	CloseBtn.Parent = NotifFrame
	CloseBtn.BackgroundTransparency = 1
	CloseBtn.Position = UDim2.new(1, -25, 0, 5)
	CloseBtn.Size = UDim2.new(0, 20, 0, 20)
	CloseBtn.Font = Enum.Font.GothamBold
	CloseBtn.Text = "Ã—"
	CloseBtn.TextColor3 = Color3.fromRGB(150, 150, 150)
	CloseBtn.TextSize = 20
	CloseBtn.ZIndex = 1001
	local tweenService = game:GetService("TweenService")
	local animSpeed = Settings.AnimationSpeed
	if not Settings.DisableAnimations then
		local slideIn = tweenService:Create(NotifFrame, TweenInfo.new(0.4 * animSpeed, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
			Position = UDim2.new(0.5, -200, 0, 20)
		})
		slideIn:Play()
		if notifType == "Error" then
			local shake1 = tweenService:Create(NotifFrame, TweenInfo.new(0.05 * animSpeed), {Position = UDim2.new(0.5, -195, 0, 20)})
			local shake2 = tweenService:Create(NotifFrame, TweenInfo.new(0.05 * animSpeed), {Position = UDim2.new(0.5, -200, 0, 20)})
			local shake3 = tweenService:Create(NotifFrame, TweenInfo.new(0.05 * animSpeed), {Position = UDim2.new(0.5, -205, 0, 20)})
			local shake4 = tweenService:Create(NotifFrame, TweenInfo.new(0.05 * animSpeed), {Position = UDim2.new(0.5, -200, 0, 20)})
			slideIn.Completed:Connect(function()
				shake1:Play()
				shake1.Completed:Connect(function()
					shake2:Play()
					shake2.Completed:Connect(function()
						shake3:Play()
						shake3.Completed:Connect(function()
							shake4:Play()
						end)
					end)
				end)
			end)
		end
	else
		NotifFrame.Position = UDim2.new(0.5, -200, 0, 20)
	end
	local function removeNotif()
		if not Settings.DisableAnimations then
			local slideOut = tweenService:Create(NotifFrame, TweenInfo.new(0.3 * animSpeed, Enum.EasingStyle.Quart, Enum.EasingDirection.In), {
				Position = UDim2.new(0.5, -200, 0, -100)
			})
			slideOut:Play()
			slideOut.Completed:Connect(function()
				NotifFrame:Destroy()
			end)
		else
			NotifFrame:Destroy()
		end
	end
	CloseBtn.MouseButton1Click:Connect(removeNotif)
	delay(duration, removeNotif)
	return NotifFrame
end

Windows11UI.Name = "Windows11UI"
Windows11UI.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
Windows11UI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

Topbar.Name = "Topbar"
Topbar.Parent = Windows11UI
Topbar.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Topbar.BorderSizePixel = 0
Topbar.Position = UDim2.new(0.279261738, 0, 0.19421488, 0)
Topbar.Size = UDim2.new(0, 700, 0, 56)
Topbar.BackgroundTransparency = Settings.Transparency

UICorner.Parent = Topbar
UICorner.CornerRadius = UDim.new(0, Settings.RoundedCorners)

local TopbarGradient = Instance.new("UIGradient")
TopbarGradient.Parent = Topbar
TopbarGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 30, 30)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(20, 20, 20)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(40, 40, 40))
})
TopbarGradient.Rotation = 45

Frame.Parent = Topbar
Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
Frame.BorderSizePixel = 0
Frame.Position = UDim2.new(0, 0, 0.65956223, 0)
Frame.Size = UDim2.new(0, 700, 0, 320)
Frame.BackgroundTransparency = Settings.Transparency

UICorner_2.Parent = Frame
UICorner_2.CornerRadius = UDim.new(0, Settings.RoundedCorners)

local FrameGradient = Instance.new("UIGradient")
FrameGradient.Parent = Frame
FrameGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(35, 35, 35)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(30, 30, 30)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(25, 25, 25))
})
FrameGradient.Rotation = 90

FilesFrame.Name = "FilesFrame"
FilesFrame.Parent = Frame
FilesFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
FilesFrame.BorderSizePixel = 0
FilesFrame.Position = UDim2.new(0, 0, 0, 0)
FilesFrame.Size = UDim2.new(0, 140, 0, 320)
FilesFrame.BackgroundTransparency = Settings.Transparency

local FilesCorner = Instance.new("UICorner")
FilesCorner.CornerRadius = UDim.new(0, 0)
FilesCorner.Parent = FilesFrame

FilesHeader.Name = "FilesHeader"
FilesHeader.Parent = FilesFrame
FilesHeader.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
FilesHeader.BorderSizePixel = 0
FilesHeader.Position = UDim2.new(0, 0, 0, 0)
FilesHeader.Size = UDim2.new(1, 0, 0, 40)

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 0)
HeaderCorner.Parent = FilesHeader

FilesIcon.Name = "FilesIcon"
FilesIcon.Parent = FilesHeader
FilesIcon.BackgroundTransparency = 1
FilesIcon.Position = UDim2.new(0, 10, 0, 5)
FilesIcon.Size = UDim2.new(0, 30, 0, 30)
FilesIcon.Image = "rbxassetid://104044432682220"

FilesLabel.Name = "FilesLabel"
FilesLabel.Parent = FilesHeader
FilesLabel.BackgroundTransparency = 1
FilesLabel.Position = UDim2.new(0, 45, 0, 0)
FilesLabel.Size = UDim2.new(0, 95, 0, 40)
FilesLabel.Font = Enum.Font.GothamBold
FilesLabel.Text = "FILES"
FilesLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FilesLabel.TextSize = 16

FilesList.Name = "FilesList"
FilesList.Parent = FilesFrame
FilesList.BackgroundTransparency = 1
FilesList.Position = UDim2.new(0, 5, 0, 85)
FilesList.Size = UDim2.new(0, 130, 0, 140)
FilesList.ScrollBarThickness = 3
FilesList.CanvasSize = UDim2.new(0, 0, 0, 0)

FilesListLayout.Parent = FilesList
FilesListLayout.SortOrder = Enum.SortOrder.LayoutOrder
FilesListLayout.Padding = UDim.new(0, 4)

FileNameBox.Name = "FileNameBox"
FileNameBox.Parent = FilesFrame
FileNameBox.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
FileNameBox.BorderColor3 = Color3.fromRGB(40, 40, 40)
FileNameBox.BorderSizePixel = 1
FileNameBox.Position = UDim2.new(0, 5, 0, 45)
FileNameBox.Size = UDim2.new(0, 130, 0, 25)
FileNameBox.Font = Enum.Font.Gotham
FileNameBox.Text = ""
FileNameBox.PlaceholderText = "File name..."
FileNameBox.PlaceholderColor3 = Color3.fromRGB(80, 80, 80)
FileNameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
FileNameBox.TextSize = 11
FileNameBox.TextXAlignment = Enum.TextXAlignment.Left

Instance.new("UICorner", FileNameBox).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

SaveFileBtn.Name = "SaveFileBtn"
SaveFileBtn.Parent = FilesFrame
SaveFileBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
SaveFileBtn.Position = UDim2.new(0, 5, 0, 230)
SaveFileBtn.Size = UDim2.new(0, 35, 0, 35)
SaveFileBtn.Image = "rbxassetid://11768914234"

Instance.new("UICorner", SaveFileBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local SaveTooltip = Instance.new("Frame")
SaveTooltip.Name = "SaveTooltip"
SaveTooltip.Parent = SaveFileBtn
SaveTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
SaveTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
SaveTooltip.BorderSizePixel = 1
SaveTooltip.Position = UDim2.new(0, 0, 0, -28)
SaveTooltip.Size = UDim2.new(0, 60, 0, 22)
SaveTooltip.Visible = false
SaveTooltip.ZIndex = 10

local SaveTooltipCorner = Instance.new("UICorner")
SaveTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
SaveTooltipCorner.Parent = SaveTooltip

local SaveTooltipText = Instance.new("TextLabel")
SaveTooltipText.Parent = SaveTooltip
SaveTooltipText.BackgroundTransparency = 1
SaveTooltipText.Size = UDim2.new(1, 0, 1, 0)
SaveTooltipText.Font = Enum.Font.GothamSemibold
SaveTooltipText.Text = "Save"
SaveTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
SaveTooltipText.TextSize = 11
SaveTooltipText.ZIndex = 11

SaveFileBtn.MouseEnter:Connect(function() SaveTooltip.Visible = true end)
SaveFileBtn.MouseLeave:Connect(function() SaveTooltip.Visible = false end)

LoadFileBtn.Name = "LoadFileBtn"
LoadFileBtn.Parent = FilesFrame
LoadFileBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
LoadFileBtn.Position = UDim2.new(0, 45, 0, 230)
LoadFileBtn.Size = UDim2.new(0, 35, 0, 35)
LoadFileBtn.Image = "rbxassetid://85502241059648"

Instance.new("UICorner", LoadFileBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local LoadTooltip = Instance.new("Frame")
LoadTooltip.Name = "LoadTooltip"
LoadTooltip.Parent = LoadFileBtn
LoadTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
LoadTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
LoadTooltip.BorderSizePixel = 1
LoadTooltip.Position = UDim2.new(0, 0, 0, -28)
LoadTooltip.Size = UDim2.new(0, 60, 0, 22)
LoadTooltip.Visible = false
LoadTooltip.ZIndex = 10

local LoadTooltipCorner = Instance.new("UICorner")
LoadTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
LoadTooltipCorner.Parent = LoadTooltip

local LoadTooltipText = Instance.new("TextLabel")
LoadTooltipText.Parent = LoadTooltip
LoadTooltipText.BackgroundTransparency = 1
LoadTooltipText.Size = UDim2.new(1, 0, 1, 0)
LoadTooltipText.Font = Enum.Font.GothamSemibold
LoadTooltipText.Text = "Load"
LoadTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
LoadTooltipText.TextSize = 11
LoadTooltipText.ZIndex = 11

LoadFileBtn.MouseEnter:Connect(function() LoadTooltip.Visible = true end)
LoadFileBtn.MouseLeave:Connect(function() LoadTooltip.Visible = false end)

RenameFileBtn.Name = "RenameFileBtn"
RenameFileBtn.Parent = FilesFrame
RenameFileBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
RenameFileBtn.Position = UDim2.new(0, 85, 0, 230)
RenameFileBtn.Size = UDim2.new(0, 35, 0, 35)
RenameFileBtn.Image = "rbxassetid://88134306391339"

Instance.new("UICorner", RenameFileBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local RenameTooltip = Instance.new("Frame")
RenameTooltip.Name = "RenameTooltip"
RenameTooltip.Parent = RenameFileBtn
RenameTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
RenameTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
RenameTooltip.BorderSizePixel = 1
RenameTooltip.Position = UDim2.new(0, 0, 0, -28)
RenameTooltip.Size = UDim2.new(0, 60, 0, 22)
RenameTooltip.Visible = false
RenameTooltip.ZIndex = 10

local RenameTooltipCorner = Instance.new("UICorner")
RenameTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
RenameTooltipCorner.Parent = RenameTooltip

local RenameTooltipText = Instance.new("TextLabel")
RenameTooltipText.Parent = RenameTooltip
RenameTooltipText.BackgroundTransparency = 1
RenameTooltipText.Size = UDim2.new(1, 0, 1, 0)
RenameTooltipText.Font = Enum.Font.GothamSemibold
RenameTooltipText.Text = "Rename"
RenameTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
RenameTooltipText.TextSize = 11
RenameTooltipText.ZIndex = 11

RenameFileBtn.MouseEnter:Connect(function() RenameTooltip.Visible = true end)
RenameFileBtn.MouseLeave:Connect(function() RenameTooltip.Visible = false end)

DeleteFileBtn.Name = "DeleteFileBtn"
DeleteFileBtn.Parent = FilesFrame
DeleteFileBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
DeleteFileBtn.Position = UDim2.new(0, 5, 0, 275)
DeleteFileBtn.Size = UDim2.new(0, 35, 0, 35)
DeleteFileBtn.Image = "rbxassetid://76624782632416"

Instance.new("UICorner", DeleteFileBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local DeleteTooltip = Instance.new("Frame")
DeleteTooltip.Name = "DeleteTooltip"
DeleteTooltip.Parent = DeleteFileBtn
DeleteTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
DeleteTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
DeleteTooltip.BorderSizePixel = 1
DeleteTooltip.Position = UDim2.new(0, 0, 0, -28)
DeleteTooltip.Size = UDim2.new(0, 60, 0, 22)
DeleteTooltip.Visible = false
DeleteTooltip.ZIndex = 10

local DeleteTooltipCorner = Instance.new("UICorner")
DeleteTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
DeleteTooltipCorner.Parent = DeleteTooltip

local DeleteTooltipText = Instance.new("TextLabel")
DeleteTooltipText.Parent = DeleteTooltip
DeleteTooltipText.BackgroundTransparency = 1
DeleteTooltipText.Size = UDim2.new(1, 0, 1, 0)
DeleteTooltipText.Font = Enum.Font.GothamSemibold
DeleteTooltipText.Text = "Delete"
DeleteTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
DeleteTooltipText.TextSize = 11
DeleteTooltipText.ZIndex = 11

DeleteFileBtn.MouseEnter:Connect(function() DeleteTooltip.Visible = true end)
DeleteFileBtn.MouseLeave:Connect(function() DeleteTooltip.Visible = false end)

ExecuteFileBtn.Name = "ExecuteFileBtn"
ExecuteFileBtn.Parent = FilesFrame
ExecuteFileBtn.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ExecuteFileBtn.Position = UDim2.new(0, 45, 0, 275)
ExecuteFileBtn.Size = UDim2.new(0, 35, 0, 35)
ExecuteFileBtn.Image = "rbxassetid://119065240115720"

Instance.new("UICorner", ExecuteFileBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local ExecTooltip = Instance.new("Frame")
ExecTooltip.Name = "ExecTooltip"
ExecTooltip.Parent = ExecuteFileBtn
ExecTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ExecTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
ExecTooltip.BorderSizePixel = 1
ExecTooltip.Position = UDim2.new(0, 0, 0, -28)
ExecTooltip.Size = UDim2.new(0, 60, 0, 22)
ExecTooltip.Visible = false
ExecTooltip.ZIndex = 10

local ExecTooltipCorner = Instance.new("UICorner")
ExecTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
ExecTooltipCorner.Parent = ExecTooltip

local ExecTooltipText = Instance.new("TextLabel")
ExecTooltipText.Parent = ExecTooltip
ExecTooltipText.BackgroundTransparency = 1
ExecTooltipText.Size = UDim2.new(1, 0, 1, 0)
ExecTooltipText.Font = Enum.Font.GothamSemibold
ExecTooltipText.Text = "Execute"
ExecTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
ExecTooltipText.TextSize = 11
ExecTooltipText.ZIndex = 11

ExecuteFileBtn.MouseEnter:Connect(function() ExecTooltip.Visible = true end)
ExecuteFileBtn.MouseLeave:Connect(function() ExecTooltip.Visible = false end)

TabFrame.Name = "TabFrame"
TabFrame.Parent = Frame
TabFrame.BackgroundTransparency = 1
TabFrame.BorderSizePixel = 0
TabFrame.Position = UDim2.new(0, 150, 0, 5)
TabFrame.Size = UDim2.new(0, 545, 0, 30)

InfoTab.Name = "InfoTab"
InfoTab.Parent = TabFrame
InfoTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
InfoTab.BorderSizePixel = 0
InfoTab.Position = UDim2.new(0, 0, 0, 0)
InfoTab.Size = UDim2.new(0, 35, 0, 30)
InfoTab.Image = "rbxassetid://110502792434357"
InfoTab.ImageColor3 = Color3.fromRGB(200, 200, 200)

Instance.new("UICorner", InfoTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

EditorTab.Name = "EditorTab"
EditorTab.Parent = TabFrame
EditorTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
EditorTab.BorderSizePixel = 0
EditorTab.Position = UDim2.new(0, 45, 0, 0)
EditorTab.Size = UDim2.new(0, 35, 0, 30)
EditorTab.Image = "rbxassetid://117772889196810"

Instance.new("UICorner", EditorTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

SearcherTab.Name = "SearcherTab"
SearcherTab.Parent = TabFrame
SearcherTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
SearcherTab.BorderSizePixel = 0
SearcherTab.Position = UDim2.new(0, 90, 0, 0)
SearcherTab.Size = UDim2.new(0, 35, 0, 30)
SearcherTab.Image = "rbxassetid://88898640085751"
SearcherTab.ImageColor3 = Color3.fromRGB(200, 200, 200)

Instance.new("UICorner", SearcherTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

GameScriptsTab.Name = "GameScriptsTab"
GameScriptsTab.Parent = TabFrame
GameScriptsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
GameScriptsTab.BorderSizePixel = 0
GameScriptsTab.Position = UDim2.new(0, 135, 0, 0)
GameScriptsTab.Size = UDim2.new(0, 35, 0, 30)
GameScriptsTab.Image = "rbxassetid://86591853167234"
GameScriptsTab.ImageColor3 = Color3.fromRGB(200, 200, 200)

Instance.new("UICorner", GameScriptsTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

UniversalScriptsTab.Name = "UniversalScriptsTab"
UniversalScriptsTab.Parent = TabFrame
UniversalScriptsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
UniversalScriptsTab.BorderSizePixel = 0
UniversalScriptsTab.Position = UDim2.new(0, 180, 0, 0)
UniversalScriptsTab.Size = UDim2.new(0, 35, 0, 30)
UniversalScriptsTab.Image = "rbxassetid://134398528532961"
UniversalScriptsTab.ImageColor3 = Color3.fromRGB(200, 200, 200)

Instance.new("UICorner", UniversalScriptsTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

SettingsTab.Name = "SettingsTab"
SettingsTab.Parent = TabFrame
SettingsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
SettingsTab.BorderSizePixel = 0
SettingsTab.Position = UDim2.new(0, 225, 0, 0)
SettingsTab.Size = UDim2.new(0, 35, 0, 30)
SettingsTab.Image = "rbxassetid://115847366049931"
SettingsTab.ImageColor3 = Color3.fromRGB(200, 200, 200)

Instance.new("UICorner", SettingsTab).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

InfoFrame.Name = "InfoFrame"
InfoFrame.Parent = Frame
InfoFrame.BackgroundTransparency = 1
InfoFrame.Position = UDim2.new(0, 150, 0, 40)
InfoFrame.Size = UDim2.new(0, 545, 0, 275)
InfoFrame.Visible = false

InfoBackground.Name = "InfoBackground"
InfoBackground.Parent = InfoFrame
InfoBackground.BackgroundTransparency = 1
InfoBackground.Size = UDim2.new(1, 0, 1, 0)
InfoBackground.Image = "rbxassetid://6655732452"
InfoBackground.ImageTransparency = 0.3
InfoBackground.ScaleType = Enum.ScaleType.Crop

Instance.new("UICorner", InfoBackground).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local InfoContainer = Instance.new("Frame")
InfoContainer.Name = "InfoContainer"
InfoContainer.Parent = InfoFrame
InfoContainer.BackgroundTransparency = 1
InfoContainer.Position = UDim2.new(0, 10, 0, 10)
InfoContainer.Size = UDim2.new(1, -20, 1, -20)

local function CreateCompactInfoWithImage(title, value, posX, posY, sizeX, sizeY, imageId)
    local section = Instance.new("Frame")
    section.Name = title .. "Section"
    section.Parent = InfoContainer
    section.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    section.Position = UDim2.new(posX, 0, posY, 0)
    section.Size = UDim2.new(sizeX, 0, sizeY, 0)
    Instance.new("UICorner", section).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
    
    local icon = Instance.new("ImageLabel")
    icon.Name = "Icon"
    icon.Parent = section
    icon.BackgroundTransparency = 1
    icon.Position = UDim2.new(0, 8, 0, 8)
    icon.Size = UDim2.new(0, 20, 0, 20)
    icon.Image = "rbxassetid://" .. imageId
    icon.ImageColor3 = Color3.fromRGB(200, 200, 200)
    
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "Title"
    titleLabel.Parent = section
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 35, 0, 4)
    titleLabel.Size = UDim2.new(1, -45, 0, 16)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.Text = title
    titleLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
    titleLabel.TextSize = 11
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Name = "Value"
    valueLabel.Parent = section
    valueLabel.BackgroundTransparency = 1
    valueLabel.Position = UDim2.new(0, 8, 0, 28)
    valueLabel.Size = UDim2.new(1, -16, 1, -36)
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.Text = value
    valueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    valueLabel.TextSize = 11
    valueLabel.TextXAlignment = Enum.TextXAlignment.Left
    valueLabel.TextYAlignment = Enum.TextYAlignment.Top
    valueLabel.TextWrapped = true
    
    return valueLabel
end

local player = game.Players.LocalPlayer
local gameInfo = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId)

local serverId = game.JobId ~= "" and game.JobId:sub(1, 6) .. "..." or "Private"
local serverText = "ID: " .. serverId .. "\nPlayers: " .. #game.Players:GetPlayers() .. "/" .. game.Players.MaxPlayers
local serverLabel = CreateCompactInfoWithImage("Server Info", serverText, 0, 0, 0.48, 0.15, "18189876016")

local userText = "Name: " .. player.Name .. "\nDisplay: " .. player.DisplayName .. "\nID: " .. player.UserId
local userLabel = CreateCompactInfoWithImage("User Info", userText, 0.52, 0, 0.48, 0.15, "15164135517")

local gameText = gameInfo.Name:sub(1, 25) .. (gameInfo.Name:len() > 25 and "..." or "") .. "\nPlace ID: " .. game.PlaceId
local gameLabel = CreateCompactInfoWithImage("Game", gameText, 0, 0.17, 0.48, 0.15, "92416323895079")

local executorName = identifyexecutor and identifyexecutor() or "Unknown"
local executorText = "Name: " .. executorName .. "\nVersion: V4.5 Enhanced"
local executorLabel = CreateCompactInfoWithImage("Executor", executorText, 0.52, 0.17, 0.48, 0.15, "102551636383591")

local timeLabel = CreateCompactInfoWithImage("Time Zone", "Loading...", 0, 0.34, 0.48, 0.15, "100658411712215")
local dateLabel = CreateCompactInfoWithImage("Date", "Loading...", 0.52, 0.34, 0.48, 0.15, "100658411712215")

local function CreateSystemStat(name, posX, imageId)
    local section = Instance.new("Frame")
    section.Name = name .. "Stat"
    section.Parent = InfoContainer
    section.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    section.Position = UDim2.new(posX, 0, 0.51, 0)
    section.Size = UDim2.new(0.18, -4, 0.12, 0)
    Instance.new("UICorner", section).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
    
    local icon = Instance.new("ImageLabel")
    icon.Name = "Icon"
    icon.Parent = section
    icon.BackgroundTransparency = 1
    icon.Position = UDim2.new(0, 5, 0, 5)
    icon.Size = UDim2.new(0, 16, 0, 16)
    icon.Image = "rbxassetid://" .. imageId
    icon.ImageColor3 = Color3.fromRGB(200, 200, 200)
    
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Name = "Title"
    titleLabel.Parent = section
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 26, 0, 2)
    titleLabel.Size = UDim2.new(1, -30, 0, 14)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.Text = name
    titleLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
    titleLabel.TextSize = 9
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local valueLabel = Instance.new("TextLabel")
    valueLabel.Name = "Value"
    valueLabel.Parent = section
    valueLabel.BackgroundTransparency = 1
    valueLabel.Position = UDim2.new(0, 5, 0, 18)
    valueLabel.Size = UDim2.new(1, -10, 0, 16)
    valueLabel.Font = Enum.Font.Gotham
    valueLabel.Text = "0"
    valueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    valueLabel.TextSize = 11
    valueLabel.TextXAlignment = Enum.TextXAlignment.Center
    
    return valueLabel
end

local fpsLabel = CreateSystemStat("FPS", 0, "80514302796622")
local pingLabel = CreateSystemStat("Ping", 0.20, "73804197684672")
local memoryLabel = CreateSystemStat("Memory", 0.40, "6934996829")
local cpuLabel = CreateSystemStat("CPU", 0.60, "83732980750188")
local gpuLabel = CreateSystemStat("GPU", 0.80, "120144751660153")

local hardwareSection = Instance.new("Frame")
hardwareSection.Name = "HardwareSection"
hardwareSection.Parent = InfoContainer
hardwareSection.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
hardwareSection.Position = UDim2.new(0, 0, 0.65, 0)
hardwareSection.Size = UDim2.new(1, 0, 0.14, 0)
Instance.new("UICorner", hardwareSection).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local hardwareIcon = Instance.new("ImageLabel")
hardwareIcon.Name = "Icon"
hardwareIcon.Parent = hardwareSection
hardwareIcon.BackgroundTransparency = 1
hardwareIcon.Position = UDim2.new(0, 8, 0, 8)
hardwareIcon.Size = UDim2.new(0, 20, 0, 20)
hardwareIcon.Image = "rbxassetid://83732980750188"
hardwareIcon.ImageColor3 = Color3.fromRGB(200, 200, 200)

local hardwareTitle = Instance.new("TextLabel")
hardwareTitle.Name = "Title"
hardwareTitle.Parent = hardwareSection
hardwareTitle.BackgroundTransparency = 1
hardwareTitle.Position = UDim2.new(0, 35, 0, 4)
hardwareTitle.Size = UDim2.new(1, -45, 0, 16)
hardwareTitle.Font = Enum.Font.GothamBold
hardwareTitle.Text = "System Info"
hardwareTitle.TextColor3 = Color3.fromRGB(180, 180, 180)
hardwareTitle.TextSize = 11
hardwareTitle.TextXAlignment = Enum.TextXAlignment.Left

local hardwareValue = Instance.new("TextLabel")
hardwareValue.Name = "Value"
hardwareValue.Parent = hardwareSection
hardwareValue.BackgroundTransparency = 1
hardwareValue.Position = UDim2.new(0, 8, 0, 28)
hardwareValue.Size = UDim2.new(1, -16, 1, -36)
hardwareValue.Font = Enum.Font.Gotham
hardwareValue.Text = "OS: " .. (os and os.getenv and os.getenv("OS") or "Unknown") .. " | Core Count: " .. (game:GetService("Stats").Workspace.Heartbeat:GetValue() and "Detecting..." or "N/A")
hardwareValue.TextColor3 = Color3.fromRGB(255, 255, 255)
hardwareValue.TextSize = 10
hardwareValue.TextXAlignment = Enum.TextXAlignment.Left
hardwareValue.TextWrapped = true

local RunService = game:GetService("RunService")
local Stats = game:GetService("Stats")

local function updateStats()
    local currentServerId = game.JobId ~= "" and game.JobId:sub(1, 6) .. "..." or "Private"
    serverLabel.Text = "ID: " .. currentServerId .. "\nPlayers: " .. #game.Players:GetPlayers() .. "/" .. game.Players.MaxPlayers
    userLabel.Text = "Name: " .. player.Name .. "\nDisplay: " .. player.DisplayName .. "\nID: " .. player.UserId
    local success, currentGameInfo = pcall(function()
        return game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId)
    end)
    if success then
        local currentGameText = currentGameInfo.Name:sub(1, 25) .. (currentGameInfo.Name:len() > 25 and "..." or "") .. "\nPlace ID: " .. game.PlaceId
        gameLabel.Text = currentGameText
    end
    local currentExecutor = identifyexecutor and identifyexecutor() or "Unknown"
    executorLabel.Text = "Name: " .. currentExecutor .. "\nVersion: V4.5 Enhanced"
    local timeZone = os.date("%Z") or "Unknown"
    local localTime = os.date("%I:%M:%S %p")
    timeLabel.Text = "Zone: " .. timeZone .. "\nTime: " .. localTime
    local dateStr = os.date("%Y-%m-%d") or "Unknown"
    local dayOfWeek = os.date("%A") or "Unknown"
    dateLabel.Text = dayOfWeek .. "\n" .. dateStr
    fpsLabel.Text = tostring(math.floor(Stats.Workspace.Heartbeat:GetValue()))
    pingLabel.Text = tostring(math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())) .. " ms"
    memoryLabel.Text = tostring(math.floor(Stats:GetTotalMemoryUsageMb())) .. " MB"
    local cpuUsage = math.floor((Stats.Workspace.Heartbeat:GetValue() / 60) * 100)
    cpuLabel.Text = tostring(cpuUsage) .. "%"
    local gpuTime = Stats.Workspace.Heartbeat:GetValue()
    gpuLabel.Text = tostring(math.floor(gpuTime)) .. " ms"
end

updateStats()
RunService.Heartbeat:Connect(updateStats)

local DiscordSection = Instance.new("Frame")
DiscordSection.Name = "DiscordSection"
DiscordSection.Parent = InfoContainer
DiscordSection.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
DiscordSection.Position = UDim2.new(0, 0, 0.80, 0)
DiscordSection.Size = UDim2.new(1, 0, 0.18, 0)
Instance.new("UICorner", DiscordSection).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local DiscordThumbnail = Instance.new("ImageLabel")
DiscordThumbnail.Name = "DiscordThumbnail"
DiscordThumbnail.Parent = DiscordSection
DiscordThumbnail.BackgroundTransparency = 1
DiscordThumbnail.Position = UDim2.new(0, 10, 0.5, -25)
DiscordThumbnail.Size = UDim2.new(0, 50, 0, 50)
DiscordThumbnail.Image = "rbxassetid://114216963895291"
DiscordThumbnail.ScaleType = Enum.ScaleType.Crop
Instance.new("UICorner", DiscordThumbnail).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

DiscordIcon.Name = "DiscordIcon"
DiscordIcon.Parent = DiscordSection
DiscordIcon.BackgroundTransparency = 1
DiscordIcon.Position = UDim2.new(0, 70, 0.5, -15)
DiscordIcon.Size = UDim2.new(0, 30, 0, 30)
DiscordIcon.Image = "rbxassetid://115249452401470"

DiscordLabel.Name = "DiscordLabel"
DiscordLabel.Parent = DiscordSection
DiscordLabel.BackgroundTransparency = 1
DiscordLabel.Position = UDim2.new(0, 105, 0, 8)
DiscordLabel.Size = UDim2.new(1, -260, 0, 20)
DiscordLabel.Font = Enum.Font.GothamBold
DiscordLabel.Text = "Join our Discord Server"
DiscordLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DiscordLabel.TextSize = 13
DiscordLabel.TextXAlignment = Enum.TextXAlignment.Left

local DiscordLink = Instance.new("TextLabel")
DiscordLink.Name = "DiscordLink"
DiscordLink.Parent = DiscordSection
DiscordLink.BackgroundTransparency = 1
DiscordLink.Position = UDim2.new(0, 105, 0, 26)
DiscordLink.Size = UDim2.new(1, -260, 0, 16)
DiscordLink.Font = Enum.Font.Gotham
DiscordLink.Text = "discord.gg/xnVDpcAYgC"
DiscordLink.TextColor3 = Color3.fromRGB(180, 180, 180)
DiscordLink.TextSize = 11
DiscordLink.TextXAlignment = Enum.TextXAlignment.Left

CopyDiscordBtn.Name = "CopyDiscordBtn"
CopyDiscordBtn.Parent = DiscordSection
CopyDiscordBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
CopyDiscordBtn.Position = UDim2.new(1, -110, 0.5, -15)
CopyDiscordBtn.Size = UDim2.new(0, 100, 0, 30)
CopyDiscordBtn.Image = "rbxassetid://16264282445"
CopyDiscordBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)

Instance.new("UICorner", CopyDiscordBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

CopyDiscordLabel.Name = "CopyDiscordLabel"
CopyDiscordLabel.Parent = CopyDiscordBtn
CopyDiscordLabel.BackgroundTransparency = 1
CopyDiscordLabel.Size = UDim2.new(1, 0, 1, 0)
CopyDiscordLabel.Font = Enum.Font.Gotham
CopyDiscordLabel.Text = "Copy"
CopyDiscordLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
CopyDiscordLabel.TextSize = 11

EditorFrame.Name = "EditorFrame"
EditorFrame.Parent = Frame
EditorFrame.BackgroundTransparency = 1
EditorFrame.Position = UDim2.new(0, 150, 0, 40)
EditorFrame.Size = UDim2.new(0, 545, 0, 275)

local EditorToolbar = Instance.new("Frame")
EditorToolbar.Name = "EditorToolbar"
EditorToolbar.Parent = EditorFrame
EditorToolbar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
EditorToolbar.BorderSizePixel = 0
EditorToolbar.Position = UDim2.new(0, 0, 0, 0)
EditorToolbar.Size = UDim2.new(0, 545, 0, 30)

Instance.new("UICorner", EditorToolbar).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local EditorTitle = Instance.new("TextLabel")
EditorTitle.Name = "EditorTitle"
EditorTitle.Parent = EditorToolbar
EditorTitle.BackgroundTransparency = 1
EditorTitle.Position = UDim2.new(0, 10, 0, 0)
EditorTitle.Size = UDim2.new(0, 200, 0, 30)
EditorTitle.Font = Enum.Font.GothamBold
EditorTitle.Text = "Script Editor"
EditorTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
EditorTitle.TextSize = 14
EditorTitle.TextXAlignment = Enum.TextXAlignment.Left

local LineCountLabel = Instance.new("TextLabel")
LineCountLabel.Name = "LineCount"
LineCountLabel.Parent = EditorToolbar
LineCountLabel.BackgroundTransparency = 1
LineCountLabel.Position = UDim2.new(1, -100, 0, 0)
LineCountLabel.Size = UDim2.new(0, 90, 0, 30)
LineCountLabel.Font = Enum.Font.Gotham
LineCountLabel.Text = "Lines: 1"
LineCountLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
LineCountLabel.TextSize = 12
LineCountLabel.TextXAlignment = Enum.TextXAlignment.Right

local LineNumberFrame = Instance.new("ScrollingFrame")
LineNumberFrame.Name = "LineNumberFrame"
LineNumberFrame.Parent = EditorFrame
LineNumberFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
LineNumberFrame.BorderSizePixel = 0
LineNumberFrame.Position = UDim2.new(0, 0, 0, 35)
LineNumberFrame.Size = UDim2.new(0, 35, 0, 195)
LineNumberFrame.ScrollBarThickness = 0
LineNumberFrame.CanvasSize = UDim2.new(0, 0, 0, 450)
LineNumberFrame.ScrollingDirection = Enum.ScrollingDirection.Y
LineNumberFrame.ScrollingEnabled = false

Instance.new("UICorner", LineNumberFrame).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local LineNumbers = Instance.new("TextLabel")
LineNumbers.Name = "LineNumbers"
LineNumbers.Parent = LineNumberFrame
LineNumbers.BackgroundTransparency = 1
LineNumbers.Size = UDim2.new(1, -5, 0, 900)
LineNumbers.Position = UDim2.new(0, 0, 0, 0)
LineNumbers.Font = Enum.Font.Code
LineNumbers.Text = "1"
LineNumbers.TextColor3 = Color3.fromRGB(100, 100, 100)
LineNumbers.TextSize = 14
LineNumbers.TextYAlignment = Enum.TextYAlignment.Top
LineNumbers.TextXAlignment = Enum.TextXAlignment.Right

local EditorScrollFrame = Instance.new("ScrollingFrame")
EditorScrollFrame.Name = "EditorScrollFrame"
EditorScrollFrame.Parent = EditorFrame
EditorScrollFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
EditorScrollFrame.BorderColor3 = Color3.fromRGB(50, 50, 50)
EditorScrollFrame.BorderSizePixel = 1
EditorScrollFrame.Position = UDim2.new(0, 40, 0, 35)
EditorScrollFrame.Size = UDim2.new(0, 505, 0, 195)
EditorScrollFrame.ScrollBarThickness = 4
EditorScrollFrame.CanvasSize = UDim2.new(0, 2000, 0, 450)
EditorScrollFrame.ScrollingDirection = Enum.ScrollingDirection.XY
EditorScrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.XY

Instance.new("UICorner", EditorScrollFrame).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local SyntaxLabel = Instance.new("TextLabel")
SyntaxLabel.Name = "SyntaxLabel"
SyntaxLabel.Parent = EditorScrollFrame
SyntaxLabel.BackgroundTransparency = 1
SyntaxLabel.Size = UDim2.new(0, 2000, 0, 900)
SyntaxLabel.Position = UDim2.new(0, 5, 0, 0)
SyntaxLabel.Font = Enum.Font.Code
SyntaxLabel.Text = ""
SyntaxLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
SyntaxLabel.TextSize = 14
SyntaxLabel.TextWrapped = false
SyntaxLabel.TextXAlignment = Enum.TextXAlignment.Left
SyntaxLabel.TextYAlignment = Enum.TextYAlignment.Top
SyntaxLabel.RichText = true
SyntaxLabel.ClipsDescendants = true
SyntaxLabel.AutomaticSize = Enum.AutomaticSize.X

Source.Name = "Source"
Source.Parent = EditorScrollFrame
Source.BackgroundTransparency = 1
Source.Size = UDim2.new(0, 2000, 0, 900)
Source.Position = UDim2.new(0, 5, 0, 0)
Source.Font = Enum.Font.Code
Source.Text = ""
Source.TextColor3 = Color3.fromRGB(255, 255, 255)
Source.PlaceholderText = "-- Enter script here..."
Source.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
Source.TextSize = 14
Source.TextWrapped = false
Source.TextXAlignment = Enum.TextXAlignment.Left
Source.TextYAlignment = Enum.TextYAlignment.Top
Source.ClearTextOnFocus = false
Source.MultiLine = true
Source.TextTransparency = 0.5
Source.AutomaticSize = Enum.AutomaticSize.X

local function updateLineNumbers()
    local text = Source.Text
    if text == "" then text = " " end
    local lines = 1
    for _ in text:gmatch("\n") do
        lines = lines + 1
    end
    LineCountLabel.Text = "Lines: " .. lines
    local lineText = ""
    for i = 1, lines do
        lineText = lineText .. i .. "\n"
    end
    LineNumbers.Text = lineText:sub(1, -2)
    local lineHeight = 20
    local totalHeight = math.max(lines * lineHeight, 450)
    LineNumbers.Size = UDim2.new(1, -5, 0, totalHeight)
    Source.Size = UDim2.new(0, 2000, 0, totalHeight)
    SyntaxLabel.Size = UDim2.new(0, 2000, 0, totalHeight)
    LineNumberFrame.CanvasSize = UDim2.new(0, 0, 0, totalHeight)
    EditorScrollFrame.CanvasSize = UDim2.new(0, 2000, 0, totalHeight)
    if Settings.SyntaxHighlighting then
        local success, highlighted = pcall(function()
            return highlighter.run(Source.Text)
        end)
        if success then
            SyntaxLabel.Text = highlighted
        else
            SyntaxLabel.Text = Source.Text
        end
    else
        SyntaxLabel.Text = Source.Text
    end
end

Source:GetPropertyChangedSignal("Text"):Connect(updateLineNumbers)

EditorScrollFrame:GetPropertyChangedSignal("CanvasPosition"):Connect(function()
    LineNumberFrame.CanvasPosition = Vector2.new(0, EditorScrollFrame.CanvasPosition.Y)
end)

updateLineNumbers()

local EditorButtonContainer = Instance.new("Frame")
EditorButtonContainer.Name = "ButtonContainer"
EditorButtonContainer.Parent = EditorFrame
EditorButtonContainer.BackgroundTransparency = 1
EditorButtonContainer.Position = UDim2.new(0, 0, 0, 235)
EditorButtonContainer.Size = UDim2.new(0, 545, 0, 40)

Execute.Name = "Execute"
Execute.Parent = EditorButtonContainer
Execute.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Execute.BorderSizePixel = 0
Execute.Position = UDim2.new(0, 0, 0, 0)
Execute.Size = UDim2.new(0, 80, 0, 35)
Execute.Image = "rbxassetid://119065240115720"

Instance.new("UICorner", Execute).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local ExecuteText = Instance.new("TextLabel")
ExecuteText.Name = "ExecuteText"
ExecuteText.Parent = Execute
ExecuteText.BackgroundTransparency = 1
ExecuteText.Position = UDim2.new(0, 35, 0, 0)
ExecuteText.Size = UDim2.new(1, -40, 1, 0)
ExecuteText.Font = Enum.Font.GothamBold
ExecuteText.Text = "Execute"
ExecuteText.TextColor3 = Color3.fromRGB(255, 255, 255)
ExecuteText.TextSize = 12
ExecuteText.TextXAlignment = Enum.TextXAlignment.Left

local ExecuteTooltip = Instance.new("Frame")
ExecuteTooltip.Name = "ExecuteTooltip"
ExecuteTooltip.Parent = Execute
ExecuteTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ExecuteTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
ExecuteTooltip.BorderSizePixel = 1
ExecuteTooltip.Position = UDim2.new(0, 0, 0, -28)
ExecuteTooltip.Size = UDim2.new(0, 80, 0, 22)
ExecuteTooltip.Visible = false
ExecuteTooltip.ZIndex = 10

local ExecuteTooltipCorner = Instance.new("UICorner")
ExecuteTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
ExecuteTooltipCorner.Parent = ExecuteTooltip

local ExecuteTooltipText = Instance.new("TextLabel")
ExecuteTooltipText.Parent = ExecuteTooltip
ExecuteTooltipText.BackgroundTransparency = 1
ExecuteTooltipText.Size = UDim2.new(1, 0, 1, 0)
ExecuteTooltipText.Font = Enum.Font.GothamSemibold
ExecuteTooltipText.Text = "Run Script"
ExecuteTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
ExecuteTooltipText.TextSize = 11
ExecuteTooltipText.ZIndex = 11

Execute.MouseEnter:Connect(function() ExecuteTooltip.Visible = true end)
Execute.MouseLeave:Connect(function() ExecuteTooltip.Visible = false end)

Clear.Name = "Clear"
Clear.Parent = EditorButtonContainer
Clear.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Clear.BorderSizePixel = 0
Clear.Position = UDim2.new(0, 90, 0, 0)
Clear.Size = UDim2.new(0, 80, 0, 35)
Clear.Image = "rbxassetid://76624782632416"

Instance.new("UICorner", Clear).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local ClearText = Instance.new("TextLabel")
ClearText.Name = "ClearText"
ClearText.Parent = Clear
ClearText.BackgroundTransparency = 1
ClearText.Position = UDim2.new(0, 35, 0, 0)
ClearText.Size = UDim2.new(1, -40, 1, 0)
ClearText.Font = Enum.Font.GothamBold
ClearText.Text = "Clear"
ClearText.TextColor3 = Color3.fromRGB(255, 255, 255)
ClearText.TextSize = 12
ClearText.TextXAlignment = Enum.TextXAlignment.Left

local ClearTooltip = Instance.new("Frame")
ClearTooltip.Name = "ClearTooltip"
ClearTooltip.Parent = Clear
ClearTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ClearTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
ClearTooltip.BorderSizePixel = 1
ClearTooltip.Position = UDim2.new(0, 0, 0, -28)
ClearTooltip.Size = UDim2.new(0, 80, 0, 22)
ClearTooltip.Visible = false
ClearTooltip.ZIndex = 10

local ClearTooltipCorner = Instance.new("UICorner")
ClearTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
ClearTooltipCorner.Parent = ClearTooltip

local ClearTooltipText = Instance.new("TextLabel")
ClearTooltipText.Parent = ClearTooltip
ClearTooltipText.BackgroundTransparency = 1
ClearTooltipText.Size = UDim2.new(1, 0, 1, 0)
ClearTooltipText.Font = Enum.Font.GothamSemibold
ClearTooltipText.Text = "Clear Editor"
ClearTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
ClearTooltipText.TextSize = 11
ClearTooltipText.ZIndex = 11

Clear.MouseEnter:Connect(function() ClearTooltip.Visible = true end)
Clear.MouseLeave:Connect(function() ClearTooltip.Visible = false end)

Paste.Name = "Paste"
Paste.Parent = EditorButtonContainer
Paste.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Paste.BorderSizePixel = 0
Paste.Position = UDim2.new(0, 180, 0, 0)
Paste.Size = UDim2.new(0, 80, 0, 35)
Paste.Image = "rbxassetid://89773130507890"

Instance.new("UICorner", Paste).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local PasteText = Instance.new("TextLabel")
PasteText.Name = "PasteText"
PasteText.Parent = Paste
PasteText.BackgroundTransparency = 1
PasteText.Position = UDim2.new(0, 35, 0, 0)
PasteText.Size = UDim2.new(1, -40, 1, 0)
PasteText.Font = Enum.Font.GothamBold
PasteText.Text = "Paste"
PasteText.TextColor3 = Color3.fromRGB(255, 255, 255)
PasteText.TextSize = 12
PasteText.TextXAlignment = Enum.TextXAlignment.Left

local PasteTooltip = Instance.new("Frame")
PasteTooltip.Name = "PasteTooltip"
PasteTooltip.Parent = Paste
PasteTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
PasteTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
PasteTooltip.BorderSizePixel = 1
PasteTooltip.Position = UDim2.new(0, 0, 0, -28)
PasteTooltip.Size = UDim2.new(0, 80, 0, 22)
PasteTooltip.Visible = false
PasteTooltip.ZIndex = 10

local PasteTooltipCorner = Instance.new("UICorner")
PasteTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
PasteTooltipCorner.Parent = PasteTooltip

local PasteTooltipText = Instance.new("TextLabel")
PasteTooltipText.Parent = PasteTooltip
PasteTooltipText.BackgroundTransparency = 1
PasteTooltipText.Size = UDim2.new(1, 0, 1, 0)
PasteTooltipText.Font = Enum.Font.GothamSemibold
PasteTooltipText.Text = "Paste from CB"
PasteTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
PasteTooltipText.TextSize = 11
PasteTooltipText.ZIndex = 11

Paste.MouseEnter:Connect(function() PasteTooltip.Visible = true end)
Paste.MouseLeave:Connect(function() PasteTooltip.Visible = false end)

Copy.Name = "Copy"
Copy.Parent = EditorButtonContainer
Copy.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Copy.BorderSizePixel = 0
Copy.Position = UDim2.new(0, 270, 0, 0)
Copy.Size = UDim2.new(0, 80, 0, 35)
Copy.Image = "rbxassetid://127935026620905"

Instance.new("UICorner", Copy).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local CopyText = Instance.new("TextLabel")
CopyText.Name = "CopyText"
CopyText.Parent = Copy
CopyText.BackgroundTransparency = 1
CopyText.Position = UDim2.new(0, 35, 0, 0)
CopyText.Size = UDim2.new(1, -40, 1, 0)
CopyText.Font = Enum.Font.GothamBold
CopyText.Text = "Copy"
CopyText.TextColor3 = Color3.fromRGB(255, 255, 255)
CopyText.TextSize = 12
CopyText.TextXAlignment = Enum.TextXAlignment.Left

local CopyTooltip = Instance.new("Frame")
CopyTooltip.Name = "CopyTooltip"
CopyTooltip.Parent = Copy
CopyTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
CopyTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
CopyTooltip.BorderSizePixel = 1
CopyTooltip.Position = UDim2.new(0, 0, 0, -28)
CopyTooltip.Size = UDim2.new(0, 80, 0, 22)
CopyTooltip.Visible = false
CopyTooltip.ZIndex = 10

local CopyTooltipCorner = Instance.new("UICorner")
CopyTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
CopyTooltipCorner.Parent = CopyTooltip

local CopyTooltipText = Instance.new("TextLabel")
CopyTooltipText.Parent = CopyTooltip
CopyTooltipText.BackgroundTransparency = 1
CopyTooltipText.Size = UDim2.new(1, 0, 1, 0)
CopyTooltipText.Font = Enum.Font.GothamSemibold
CopyTooltipText.Text = "Copy to CB"
CopyTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
CopyTooltipText.TextSize = 11
CopyTooltipText.ZIndex = 11

Copy.MouseEnter:Connect(function() CopyTooltip.Visible = true end)
Copy.MouseLeave:Connect(function() CopyTooltip.Visible = false end)

OpenConsole.Name = "OpenConsole"
OpenConsole.Parent = EditorButtonContainer
OpenConsole.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
OpenConsole.BorderSizePixel = 0
OpenConsole.Position = UDim2.new(0, 360, 0, 0)
OpenConsole.Size = UDim2.new(0, 80, 0, 35)
OpenConsole.Image = "rbxassetid://102551636383591"

Instance.new("UICorner", OpenConsole).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local ConsoleText = Instance.new("TextLabel")
ConsoleText.Name = "ConsoleText"
ConsoleText.Parent = OpenConsole
ConsoleText.BackgroundTransparency = 1
ConsoleText.Position = UDim2.new(0, 35, 0, 0)
ConsoleText.Size = UDim2.new(1, -40, 1, 0)
ConsoleText.Font = Enum.Font.GothamBold
ConsoleText.Text = "Console"
ConsoleText.TextColor3 = Color3.fromRGB(255, 255, 255)
ConsoleText.TextSize = 12
ConsoleText.TextXAlignment = Enum.TextXAlignment.Left

local ConsoleTooltip = Instance.new("Frame")
ConsoleTooltip.Name = "ConsoleTooltip"
ConsoleTooltip.Parent = OpenConsole
ConsoleTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
ConsoleTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
ConsoleTooltip.BorderSizePixel = 1
ConsoleTooltip.Position = UDim2.new(0, 0, 0, -28)
ConsoleTooltip.Size = UDim2.new(0, 80, 0, 22)
ConsoleTooltip.Visible = false
ConsoleTooltip.ZIndex = 10

local ConsoleTooltipCorner = Instance.new("UICorner")
ConsoleTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
ConsoleTooltipCorner.Parent = ConsoleTooltip

local ConsoleTooltipText = Instance.new("TextLabel")
ConsoleTooltipText.Parent = ConsoleTooltip
ConsoleTooltipText.BackgroundTransparency = 1
ConsoleTooltipText.Size = UDim2.new(1, 0, 1, 0)
ConsoleTooltipText.Font = Enum.Font.GothamSemibold
ConsoleTooltipText.Text = "Open Console"
ConsoleTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
ConsoleTooltipText.TextSize = 11
ConsoleTooltipText.ZIndex = 11

OpenConsole.MouseEnter:Connect(function() ConsoleTooltip.Visible = true end)
OpenConsole.MouseLeave:Connect(function() ConsoleTooltip.Visible = false end)

Inject.Name = "Inject"
Inject.Parent = EditorButtonContainer
Inject.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Inject.BorderSizePixel = 0
Inject.Position = UDim2.new(0, 450, 0, 0)
Inject.Size = UDim2.new(0, 95, 0, 35)
Inject.Image = "rbxassetid://105409383174185"

Instance.new("UICorner", Inject).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local InjectText = Instance.new("TextLabel")
InjectText.Name = "InjectText"
InjectText.Parent = Inject
InjectText.BackgroundTransparency = 1
InjectText.Position = UDim2.new(0, 35, 0, 0)
InjectText.Size = UDim2.new(1, -40, 1, 0)
InjectText.Font = Enum.Font.GothamBold
InjectText.Text = "Inject"
InjectText.TextColor3 = Color3.fromRGB(255, 255, 255)
InjectText.TextSize = 12
InjectText.TextXAlignment = Enum.TextXAlignment.Left

local InjectTooltip = Instance.new("Frame")
InjectTooltip.Name = "InjectTooltip"
InjectTooltip.Parent = Inject
InjectTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
InjectTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
InjectTooltip.BorderSizePixel = 1
InjectTooltip.Position = UDim2.new(0, 0, 0, -28)
InjectTooltip.Size = UDim2.new(0, 80, 0, 22)
InjectTooltip.Visible = false
InjectTooltip.ZIndex = 10

local InjectTooltipCorner = Instance.new("UICorner")
InjectTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
InjectTooltipCorner.Parent = InjectTooltip

local InjectTooltipText = Instance.new("TextLabel")
InjectTooltipText.Parent = InjectTooltip
InjectTooltipText.BackgroundTransparency = 1
InjectTooltipText.Size = UDim2.new(1, 0, 1, 0)
InjectTooltipText.Font = Enum.Font.GothamSemibold
InjectTooltipText.Text = "Inject Script"
InjectTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
InjectTooltipText.TextSize = 11
InjectTooltipText.ZIndex = 11

Inject.MouseEnter:Connect(function() InjectTooltip.Visible = true end)
Inject.MouseLeave:Connect(function() InjectTooltip.Visible = false end)

SearcherFrame.Name = "SearcherFrame"
SearcherFrame.Parent = Frame
SearcherFrame.BackgroundTransparency = 1
SearcherFrame.Position = UDim2.new(0, 150, 0, 40)
SearcherFrame.Size = UDim2.new(0, 545, 0, 275)
SearcherFrame.Visible = false

local SearcherHeader = Instance.new("Frame")
SearcherHeader.Name = "SearcherHeader"
SearcherHeader.Parent = SearcherFrame
SearcherHeader.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
SearcherHeader.BorderSizePixel = 0
SearcherHeader.Position = UDim2.new(0, 0, 0, 0)
SearcherHeader.Size = UDim2.new(0, 545, 0, 35)

Instance.new("UICorner", SearcherHeader).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local SearcherTitle = Instance.new("TextLabel")
SearcherTitle.Name = "SearcherTitle"
SearcherTitle.Parent = SearcherHeader
SearcherTitle.BackgroundTransparency = 1
SearcherTitle.Position = UDim2.new(0, 10, 0, 0)
SearcherTitle.Size = UDim2.new(0, 200, 0, 35)
SearcherTitle.Font = Enum.Font.GothamBold
SearcherTitle.Text = "Script Searcher"
SearcherTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
SearcherTitle.TextSize = 14
SearcherTitle.TextXAlignment = Enum.TextXAlignment.Left

SearchBox.Name = "SearchBox"
SearchBox.Parent = SearcherFrame
SearchBox.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
SearchBox.BorderColor3 = Color3.fromRGB(50, 50, 50)
SearchBox.BorderSizePixel = 1
SearchBox.Position = UDim2.new(0, 0, 0, 45)
SearchBox.Size = UDim2.new(0, 450, 0, 30)
SearchBox.Font = Enum.Font.Code
SearchBox.Text = ""
SearchBox.PlaceholderText = "Search ScriptBlox..."
SearchBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
SearchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
SearchBox.TextSize = 13
SearchBox.TextXAlignment = Enum.TextXAlignment.Left

Instance.new("UICorner", SearchBox).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

SearchButton.Name = "SearchButton"
SearchButton.Parent = SearcherFrame
SearchButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
SearchButton.BorderSizePixel = 0
SearchButton.Position = UDim2.new(0, 460, 0, 45)
SearchButton.Size = UDim2.new(0, 85, 0, 30)
SearchButton.Image = "rbxassetid://118397071140701"

Instance.new("UICorner", SearchButton).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local SearchBtnText = Instance.new("TextLabel")
SearchBtnText.Name = "SearchBtnText"
SearchBtnText.Parent = SearchButton
SearchBtnText.BackgroundTransparency = 1
SearchBtnText.Position = UDim2.new(0, 35, 0, 0)
SearchBtnText.Size = UDim2.new(1, -40, 1, 0)
SearchBtnText.Font = Enum.Font.GothamBold
SearchBtnText.Text = "Search"
SearchBtnText.TextColor3 = Color3.fromRGB(255, 255, 255)
SearchBtnText.TextSize = 12
SearchBtnText.TextXAlignment = Enum.TextXAlignment.Left

FilterFrame.Name = "FilterFrame"
FilterFrame.Parent = SearcherFrame
FilterFrame.BackgroundTransparency = 1
FilterFrame.Position = UDim2.new(0, 0, 0, 85)
FilterFrame.Size = UDim2.new(0, 545, 0, 25)

local function CreateFilterButton(name, position, apiParam, color)
	local btn = Instance.new("TextButton")
	btn.Name = name .. "Filter"
	btn.Parent = FilterFrame
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.BorderSizePixel = 0
	btn.Position = position
	btn.Size = UDim2.new(0, 95, 0, 25)
	btn.Font = Enum.Font.Gotham
	btn.Text = name
	btn.TextColor3 = Color3.fromRGB(200, 200, 200)
	btn.TextSize = 11
	btn.AutoButtonColor = true
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	btn.MouseButton1Click:Connect(function()
		for _, child in pairs(FilterFrame:GetChildren()) do
			if child:IsA("TextButton") then
				child.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
				child.TextColor3 = Color3.fromRGB(200, 200, 200)
			end
		end
		btn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		CurrentFilter = apiParam
		CurrentPage = 1
		PerformSearch()
	end)
	return btn
end

FreeFilter = CreateFilterButton("Free", UDim2.new(0, 0, 0, 0), "mode=free")
VerifiedFilter = CreateFilterButton("Verified", UDim2.new(0, 105, 0, 0), "filters=verified&legacy_filters=true")
TrendingFilter = CreateFilterButton("Trending", UDim2.new(0, 210, 0, 0), "trending")
MostViewedFilter = CreateFilterButton("Most Viewed", UDim2.new(0, 315, 0, 0), "sortBy=views&order=desc")
UnverifiedFilter = CreateFilterButton("Unverified", UDim2.new(0, 420, 0, 0), "verified=0")

PageFrame.Name = "PageFrame"
PageFrame.Parent = SearcherFrame
PageFrame.BackgroundTransparency = 1
PageFrame.Position = UDim2.new(0, 0, 0, 115)
PageFrame.Size = UDim2.new(0, 545, 0, 30)

PrevPageBtn.Name = "PrevPage"
PrevPageBtn.Parent = PageFrame
PrevPageBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
PrevPageBtn.BorderSizePixel = 0
PrevPageBtn.Position = UDim2.new(0, 0, 0, 0)
PrevPageBtn.Size = UDim2.new(0, 80, 0, 28)
PrevPageBtn.Image = "rbxassetid://137224201341259"

Instance.new("UICorner", PrevPageBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local PrevText = Instance.new("TextLabel")
PrevText.Name = "PrevText"
PrevText.Parent = PrevPageBtn
PrevText.BackgroundTransparency = 1
PrevText.Position = UDim2.new(0, 30, 0, 0)
PrevText.Size = UDim2.new(1, -35, 1, 0)
PrevText.Font = Enum.Font.GothamBold
PrevText.Text = "Prev"
PrevText.TextColor3 = Color3.fromRGB(255, 255, 255)
PrevText.TextSize = 12
PrevText.TextXAlignment = Enum.TextXAlignment.Left

PageLabel.Name = "PageLabel"
PageLabel.Parent = PageFrame
PageLabel.BackgroundTransparency = 1
PageLabel.Position = UDim2.new(0, 90, 0, 0)
PageLabel.Size = UDim2.new(0, 60, 0, 28)
PageLabel.Font = Enum.Font.GothamBold
PageLabel.Text = "1"
PageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
PageLabel.TextSize = 14

NextPageBtn.Name = "NextPage"
NextPageBtn.Parent = PageFrame
NextPageBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
NextPageBtn.BorderSizePixel = 0
NextPageBtn.Position = UDim2.new(0, 160, 0, 0)
NextPageBtn.Size = UDim2.new(0, 80, 0, 28)
NextPageBtn.Image = "rbxassetid://117408302517589"

Instance.new("UICorner", NextPageBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local NextText = Instance.new("TextLabel")
NextText.Name = "NextText"
NextText.Parent = NextPageBtn
NextText.BackgroundTransparency = 1
NextText.Position = UDim2.new(0, 10, 0, 0)
NextText.Size = UDim2.new(1, -35, 1, 0)
NextText.Font = Enum.Font.GothamBold
NextText.Text = "Next"
NextText.TextColor3 = Color3.fromRGB(255, 255, 255)
NextText.TextSize = 12
NextText.TextXAlignment = Enum.TextXAlignment.Left

ScriptList.Name = "ScriptList"
ScriptList.Parent = SearcherFrame
ScriptList.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
ScriptList.BorderColor3 = Color3.fromRGB(50, 50, 50)
ScriptList.BorderSizePixel = 1
ScriptList.Position = UDim2.new(0, 0, 0, 150)
ScriptList.Size = UDim2.new(0, 545, 0, 125)
ScriptList.ScrollBarThickness = 4
ScriptList.CanvasSize = UDim2.new(0, 0, 0, 0)

Instance.new("UICorner", ScriptList).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

ListLayout.Parent = ScriptList
ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
ListLayout.Padding = UDim.new(0, 6)

GameScriptsFrame.Name = "GameScriptsFrame"
GameScriptsFrame.Parent = Frame
GameScriptsFrame.BackgroundTransparency = 1
GameScriptsFrame.Position = UDim2.new(0, 150, 0, 40)
GameScriptsFrame.Size = UDim2.new(0, 545, 0, 275)
GameScriptsFrame.Visible = false

local GameScriptsHeader = Instance.new("Frame")
GameScriptsHeader.Name = "GameScriptsHeader"
GameScriptsHeader.Parent = GameScriptsFrame
GameScriptsHeader.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
GameScriptsHeader.BorderSizePixel = 0
GameScriptsHeader.Position = UDim2.new(0, 0, 0, 0)
GameScriptsHeader.Size = UDim2.new(0, 545, 0, 35)

Instance.new("UICorner", GameScriptsHeader).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local GameScriptsTitle = Instance.new("TextLabel")
GameScriptsTitle.Name = "GameScriptsTitle"
GameScriptsTitle.Parent = GameScriptsHeader
GameScriptsTitle.BackgroundTransparency = 1
GameScriptsTitle.Position = UDim2.new(0, 10, 0, 0)
GameScriptsTitle.Size = UDim2.new(0, 200, 0, 35)
GameScriptsTitle.Font = Enum.Font.GothamBold
GameScriptsTitle.Text = "Game Scripts"
GameScriptsTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
GameScriptsTitle.TextSize = 14
GameScriptsTitle.TextXAlignment = Enum.TextXAlignment.Left

GameSearchBox.Name = "GameSearchBox"
GameSearchBox.Parent = GameScriptsFrame
GameSearchBox.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
GameSearchBox.BorderColor3 = Color3.fromRGB(50, 50, 50)
GameSearchBox.BorderSizePixel = 1
GameSearchBox.Position = UDim2.new(0, 0, 0, 45)
GameSearchBox.Size = UDim2.new(0, 450, 0, 30)
GameSearchBox.Font = Enum.Font.Code
GameSearchBox.Text = ""
GameSearchBox.PlaceholderText = "Search Game Scripts..."
GameSearchBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
GameSearchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
GameSearchBox.TextSize = 13
GameSearchBox.TextXAlignment = Enum.TextXAlignment.Left

Instance.new("UICorner", GameSearchBox).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

GameSearchButton.Name = "GameSearchButton"
GameSearchButton.Parent = GameScriptsFrame
GameSearchButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
GameSearchButton.BorderSizePixel = 0
GameSearchButton.Position = UDim2.new(0, 460, 0, 45)
GameSearchButton.Size = UDim2.new(0, 85, 0, 30)
GameSearchButton.Image = "rbxassetid://118397071140701"

Instance.new("UICorner", GameSearchButton).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local GameSearchBtnText = Instance.new("TextLabel")
GameSearchBtnText.Name = "GameSearchBtnText"
GameSearchBtnText.Parent = GameSearchButton
GameSearchBtnText.BackgroundTransparency = 1
GameSearchBtnText.Position = UDim2.new(0, 35, 0, 0)
GameSearchBtnText.Size = UDim2.new(1, -40, 1, 0)
GameSearchBtnText.Font = Enum.Font.GothamBold
GameSearchBtnText.Text = "Search"
GameSearchBtnText.TextColor3 = Color3.fromRGB(255, 255, 255)
GameSearchBtnText.TextSize = 12
GameSearchBtnText.TextXAlignment = Enum.TextXAlignment.Left

GameScriptsList.Name = "GameScriptsList"
GameScriptsList.Parent = GameScriptsFrame
GameScriptsList.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
GameScriptsList.BorderColor3 = Color3.fromRGB(50, 50, 50)
GameScriptsList.BorderSizePixel = 1
GameScriptsList.Position = UDim2.new(0, 0, 0, 85)
GameScriptsList.Size = UDim2.new(0, 545, 0, 190)
GameScriptsList.ScrollBarThickness = 4
GameScriptsList.CanvasSize = UDim2.new(0, 0, 0, 0)

Instance.new("UICorner", GameScriptsList).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

GameListLayout.Parent = GameScriptsList
GameListLayout.SortOrder = Enum.SortOrder.LayoutOrder
GameListLayout.Padding = UDim.new(0, 5)

UniversalScriptsFrame.Name = "UniversalScriptsFrame"
UniversalScriptsFrame.Parent = Frame
UniversalScriptsFrame.BackgroundTransparency = 1
UniversalScriptsFrame.Position = UDim2.new(0, 150, 0, 40)
UniversalScriptsFrame.Size = UDim2.new(0, 545, 0, 275)
UniversalScriptsFrame.Visible = false

local UniScriptsHeader = Instance.new("Frame")
UniScriptsHeader.Name = "UniScriptsHeader"
UniScriptsHeader.Parent = UniversalScriptsFrame
UniScriptsHeader.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
UniScriptsHeader.BorderSizePixel = 0
UniScriptsHeader.Position = UDim2.new(0, 0, 0, 0)
UniScriptsHeader.Size = UDim2.new(0, 545, 0, 35)

Instance.new("UICorner", UniScriptsHeader).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local UniScriptsTitle = Instance.new("TextLabel")
UniScriptsTitle.Name = "UniScriptsTitle"
UniScriptsTitle.Parent = UniScriptsHeader
UniScriptsTitle.BackgroundTransparency = 1
UniScriptsTitle.Position = UDim2.new(0, 10, 0, 0)
UniScriptsTitle.Size = UDim2.new(0, 200, 0, 35)
UniScriptsTitle.Font = Enum.Font.GothamBold
UniScriptsTitle.Text = "Universal Scripts"
UniScriptsTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
UniScriptsTitle.TextSize = 14
UniScriptsTitle.TextXAlignment = Enum.TextXAlignment.Left

UniSearchBox.Name = "UniSearchBox"
UniSearchBox.Parent = UniversalScriptsFrame
UniSearchBox.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
UniSearchBox.BorderColor3 = Color3.fromRGB(50, 50, 50)
UniSearchBox.BorderSizePixel = 1
UniSearchBox.Position = UDim2.new(0, 0, 0, 45)
UniSearchBox.Size = UDim2.new(0, 450, 0, 30)
UniSearchBox.Font = Enum.Font.Code
UniSearchBox.Text = ""
UniSearchBox.PlaceholderText = "Search Universal Scripts..."
UniSearchBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
UniSearchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
UniSearchBox.TextSize = 13
UniSearchBox.TextXAlignment = Enum.TextXAlignment.Left

Instance.new("UICorner", UniSearchBox).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

UniSearchButton.Name = "UniSearchButton"
UniSearchButton.Parent = UniversalScriptsFrame
UniSearchButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
UniSearchButton.BorderSizePixel = 0
UniSearchButton.Position = UDim2.new(0, 460, 0, 45)
UniSearchButton.Size = UDim2.new(0, 85, 0, 30)
UniSearchButton.Image = "rbxassetid://118397071140701"

Instance.new("UICorner", UniSearchButton).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

local UniSearchBtnText = Instance.new("TextLabel")
UniSearchBtnText.Name = "UniSearchBtnText"
UniSearchBtnText.Parent = UniSearchButton
UniSearchBtnText.BackgroundTransparency = 1
UniSearchBtnText.Position = UDim2.new(0, 35, 0, 0)
UniSearchBtnText.Size = UDim2.new(1, -40, 1, 0)
UniSearchBtnText.Font = Enum.Font.GothamBold
UniSearchBtnText.Text = "Search"
UniSearchBtnText.TextColor3 = Color3.fromRGB(255, 255, 255)
UniSearchBtnText.TextSize = 12
UniSearchBtnText.TextXAlignment = Enum.TextXAlignment.Left

UniScriptsList.Name = "UniScriptsList"
UniScriptsList.Parent = UniversalScriptsFrame
UniScriptsList.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
UniScriptsList.BorderColor3 = Color3.fromRGB(50, 50, 50)
UniScriptsList.BorderSizePixel = 1
UniScriptsList.Position = UDim2.new(0, 0, 0, 85)
UniScriptsList.Size = UDim2.new(0, 545, 0, 190)
UniScriptsList.ScrollBarThickness = 4
UniScriptsList.CanvasSize = UDim2.new(0, 0, 0, 0)

Instance.new("UICorner", UniScriptsList).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

UniListLayout.Parent = UniScriptsList
UniListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UniListLayout.Padding = UDim.new(0, 5)

SettingsFrame.Name = "SettingsFrame"
SettingsFrame.Parent = Frame
SettingsFrame.BackgroundTransparency = 1
SettingsFrame.Position = UDim2.new(0, 150, 0, 40)
SettingsFrame.Size = UDim2.new(0, 545, 0, 275)
SettingsFrame.Visible = false

local SettingsContainer = Instance.new("ScrollingFrame")
SettingsContainer.Name = "SettingsContainer"
SettingsContainer.Parent = SettingsFrame
SettingsContainer.BackgroundTransparency = 1
SettingsContainer.Position = UDim2.new(0, 0, 0, 0)
SettingsContainer.Size = UDim2.new(1, 0, 1, 0)
SettingsContainer.ScrollBarThickness = 4
SettingsContainer.CanvasSize = UDim2.new(0, 0, 0, 600)

local SettingsLayout = Instance.new("UIListLayout")
SettingsLayout.Parent = SettingsContainer
SettingsLayout.SortOrder = Enum.SortOrder.LayoutOrder
SettingsLayout.Padding = UDim.new(0, 10)

local function CreateSettingSection(title)
	local section = Instance.new("Frame")
	section.Name = title .. "Section"
	section.Parent = SettingsContainer
	section.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	section.Size = UDim2.new(1, -10, 0, 0)
	section.AutomaticSize = Enum.AutomaticSize.Y
	Instance.new("UICorner", section).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local sectionTitle = Instance.new("TextLabel")
	sectionTitle.Name = "Title"
	sectionTitle.Parent = section
	sectionTitle.BackgroundTransparency = 1
	sectionTitle.Position = UDim2.new(0, 10, 0, 5)
	sectionTitle.Size = UDim2.new(1, -20, 0, 25)
	sectionTitle.Font = Enum.Font.GothamBold
	sectionTitle.Text = title
	sectionTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
	sectionTitle.TextSize = 14
	sectionTitle.TextXAlignment = Enum.TextXAlignment.Left
	local content = Instance.new("Frame")
	content.Name = "Content"
	content.Parent = section
	content.BackgroundTransparency = 1
	content.Position = UDim2.new(0, 10, 0, 35)
	content.Size = UDim2.new(1, -20, 0, 0)
	content.AutomaticSize = Enum.AutomaticSize.Y
	return section, content
end

local PerfSection, PerfContent = CreateSettingSection("Performance Settings")

local FPSLabel = Instance.new("TextLabel")
FPSLabel.Name = "FPSLabel"
FPSLabel.Parent = PerfContent
FPSLabel.BackgroundTransparency = 1
FPSLabel.Size = UDim2.new(0, 100, 0, 30)
FPSLabel.Font = Enum.Font.Gotham
FPSLabel.Text = "FPS Cap:"
FPSLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
FPSLabel.TextSize = 12
FPSLabel.TextXAlignment = Enum.TextXAlignment.Left

local FPSValue = Instance.new("TextLabel")
FPSValue.Name = "FPSValue"
FPSValue.Parent = PerfContent
FPSValue.BackgroundTransparency = 1
FPSValue.Position = UDim2.new(0, 400, 0, 0)
FPSValue.Size = UDim2.new(0, 50, 0, 30)
FPSValue.Font = Enum.Font.GothamBold
FPSValue.Text = tostring(Settings.FPSCap)
FPSValue.TextColor3 = Color3.fromRGB(255, 255, 255)
FPSValue.TextSize = 12

local FPSSlider = Instance.new("TextButton")
FPSSlider.Name = "FPSSlider"
FPSSlider.Parent = PerfContent
FPSSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
FPSSlider.Position = UDim2.new(0, 110, 0, 5)
FPSSlider.Size = UDim2.new(0, 280, 0, 20)
FPSSlider.Text = ""

Instance.new("UICorner", FPSSlider).CornerRadius = UDim.new(0, 10)

local FPSFill = Instance.new("Frame")
FPSFill.Name = "Fill"
FPSFill.Parent = FPSSlider
FPSFill.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
FPSFill.Size = UDim2.new((Settings.FPSCap - 30) / 240, 0, 1, 0)
FPSFill.BorderSizePixel = 0

Instance.new("UICorner", FPSFill).CornerRadius = UDim.new(0, 10)

local draggingFPS = false

FPSSlider.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingFPS = true
	end
end)

FPSSlider.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingFPS = false
	end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
	if draggingFPS and input.UserInputType == Enum.UserInputType.MouseMovement then
		local pos = math.clamp((input.Position.X - FPSSlider.AbsolutePosition.X) / FPSSlider.AbsoluteSize.X, 0, 1)
		Settings.FPSCap = math.floor(30 + (pos * 240))
		FPSFill.Size = UDim2.new((Settings.FPSCap - 30) / 240, 0, 1, 0)
		FPSValue.Text = tostring(Settings.FPSCap)
		setfpscap(Settings.FPSCap)
	end
end)

local AnimationsLabel = Instance.new("TextLabel")
AnimationsLabel.Name = "AnimationsLabel"
AnimationsLabel.Parent = PerfContent
AnimationsLabel.BackgroundTransparency = 1
AnimationsLabel.Position = UDim2.new(0, 0, 0, 40)
AnimationsLabel.Size = UDim2.new(0, 200, 0, 30)
AnimationsLabel.Font = Enum.Font.Gotham
AnimationsLabel.Text = "Disable Animations:"
AnimationsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
AnimationsLabel.TextSize = 12
AnimationsLabel.TextXAlignment = Enum.TextXAlignment.Left

local AnimationsToggle = Instance.new("TextButton")
AnimationsToggle.Name = "AnimationsToggle"
AnimationsToggle.Parent = PerfContent
AnimationsToggle.BackgroundColor3 = Settings.DisableAnimations and Color3.fromRGB(200, 50, 50) or Color3.fromRGB(50, 200, 100)
AnimationsToggle.Position = UDim2.new(0, 210, 0, 40)
AnimationsToggle.Size = UDim2.new(0, 60, 0, 30)
AnimationsToggle.Font = Enum.Font.GothamBold
AnimationsToggle.Text = Settings.DisableAnimations and "OFF" or "ON"
AnimationsToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
AnimationsToggle.TextSize = 12

Instance.new("UICorner", AnimationsToggle).CornerRadius = UDim.new(0, 15)

AnimationsToggle.MouseButton1Click:Connect(function()
	Settings.DisableAnimations = not Settings.DisableAnimations
	AnimationsToggle.BackgroundColor3 = Settings.DisableAnimations and Color3.fromRGB(200, 50, 50) or Color3.fromRGB(50, 200, 100)
	AnimationsToggle.Text = Settings.DisableAnimations and "OFF" or "ON"
	ShowNotification("Settings", "Animations " .. (Settings.DisableAnimations and "Disabled" or "Enabled"), "Success", 2)
end)

local AnimSpeedLabel = Instance.new("TextLabel")
AnimSpeedLabel.Name = "AnimSpeedLabel"
AnimSpeedLabel.Parent = PerfContent
AnimSpeedLabel.BackgroundTransparency = 1
AnimSpeedLabel.Position = UDim2.new(0, 0, 0, 80)
AnimSpeedLabel.Size = UDim2.new(0, 100, 0, 30)
AnimSpeedLabel.Font = Enum.Font.Gotham
AnimSpeedLabel.Text = "Anim Speed:"
AnimSpeedLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
AnimSpeedLabel.TextSize = 12
AnimSpeedLabel.TextXAlignment = Enum.TextXAlignment.Left

local AnimSpeedValue = Instance.new("TextLabel")
AnimSpeedValue.Name = "AnimSpeedValue"
AnimSpeedValue.Parent = PerfContent
AnimSpeedValue.BackgroundTransparency = 1
AnimSpeedValue.Position = UDim2.new(0, 400, 0, 80)
AnimSpeedValue.Size = UDim2.new(0, 50, 0, 30)
AnimSpeedValue.Font = Enum.Font.GothamBold
AnimSpeedValue.Text = tostring(Settings.AnimationSpeed) .. "x"
AnimSpeedValue.TextColor3 = Color3.fromRGB(255, 255, 255)
AnimSpeedValue.TextSize = 12

local AnimSpeedSlider = Instance.new("TextButton")
AnimSpeedSlider.Name = "AnimSpeedSlider"
AnimSpeedSlider.Parent = PerfContent
AnimSpeedSlider.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
AnimSpeedSlider.Position = UDim2.new(0, 110, 0, 85)
AnimSpeedSlider.Size = UDim2.new(0, 280, 0, 20)
AnimSpeedSlider.Text = ""

Instance.new("UICorner", AnimSpeedSlider).CornerRadius = UDim.new(0, 10)

local AnimSpeedFill = Instance.new("Frame")
AnimSpeedFill.Name = "Fill"
AnimSpeedFill.Parent = AnimSpeedSlider
AnimSpeedFill.BackgroundColor3 = Color3.fromRGB(100, 100, 100)
AnimSpeedFill.Size = UDim2.new((Settings.AnimationSpeed - 0.1) / 2.9, 0, 1, 0)
AnimSpeedFill.BorderSizePixel = 0

Instance.new("UICorner", AnimSpeedFill).CornerRadius = UDim.new(0, 10)

local draggingAnimSpeed = false

AnimSpeedSlider.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingAnimSpeed = true
	end
end)

AnimSpeedSlider.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		draggingAnimSpeed = false
	end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
	if draggingAnimSpeed and input.UserInputType == Enum.UserInputType.MouseMovement then
		local pos = math.clamp((input.Position.X - AnimSpeedSlider.AbsolutePosition.X) / AnimSpeedSlider.AbsoluteSize.X, 0, 1)
		Settings.AnimationSpeed = math.floor((0.1 + (pos * 2.9)) * 10) / 10
		AnimSpeedFill.Size = UDim2.new((Settings.AnimationSpeed - 0.1) / 2.9, 0, 1, 0)
		AnimSpeedValue.Text = tostring(Settings.AnimationSpeed) .. "x"
	end
end)

local DevSection, DevContent = CreateSettingSection("Developer Settings")

local DevModeLabel = Instance.new("TextLabel")
DevModeLabel.Name = "DevModeLabel"
DevModeLabel.Parent = DevContent
DevModeLabel.BackgroundTransparency = 1
DevModeLabel.Size = UDim2.new(0, 200, 0, 30)
DevModeLabel.Font = Enum.Font.Gotham
DevModeLabel.Text = "Developer Mode:"
DevModeLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
DevModeLabel.TextSize = 12
DevModeLabel.TextXAlignment = Enum.TextXAlignment.Left

local DevModeToggle = Instance.new("TextButton")
DevModeToggle.Name = "DevModeToggle"
DevModeToggle.Parent = DevContent
DevModeToggle.BackgroundColor3 = Settings.DevMode and Color3.fromRGB(50, 200, 100) or Color3.fromRGB(200, 50, 50)
DevModeToggle.Position = UDim2.new(0, 210, 0, 0)
DevModeToggle.Size = UDim2.new(0, 60, 0, 30)
DevModeToggle.Font = Enum.Font.GothamBold
DevModeToggle.Text = Settings.DevMode and "ON" or "OFF"
DevModeToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
DevModeToggle.TextSize = 12

Instance.new("UICorner", DevModeToggle).CornerRadius = UDim.new(0, 15)

DevModeToggle.MouseButton1Click:Connect(function()
	Settings.DevMode = not Settings.DevMode
	DevModeToggle.BackgroundColor3 = Settings.DevMode and Color3.fromRGB(50, 200, 100) or Color3.fromRGB(200, 50, 50)
	DevModeToggle.Text = Settings.DevMode and "ON" or "OFF"
	ShowNotification("Settings", "Developer Mode " .. (Settings.DevMode and "Enabled" or "Disabled"), "Success", 2)
	if Settings.DevMode then
		game:GetService("StarterGui"):SetCore("DevConsoleVisible", true)
	end
end)

local ReExecuteBtn = Instance.new("TextButton")
ReExecuteBtn.Name = "ReExecuteBtn"
ReExecuteBtn.Parent = DevContent
ReExecuteBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
ReExecuteBtn.Position = UDim2.new(0, 0, 0, 40)
ReExecuteBtn.Size = UDim2.new(0, 200, 0, 35)
ReExecuteBtn.Font = Enum.Font.GothamBold
ReExecuteBtn.Text = "Re-Execute UI"
ReExecuteBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
ReExecuteBtn.TextSize = 12

Instance.new("UICorner", ReExecuteBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))

ReExecuteBtn.MouseButton1Click:Connect(function()
	ShowNotification("Re-Executing", "Reloading UI...", "Success", 2)
	delay(1, function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/ZZINSWARE/ZZINSWARE-V4/main/ZZINSWARE"))()
		Windows11UI:Destroy()
	end)
end)

local ConfigSection, ConfigContent = CreateSettingSection("Configuration")

local ConfigNameBox = Instance.new("TextBox")
ConfigNameBox.Name = "ConfigNameBox"
ConfigNameBox.Parent = ConfigContent
ConfigNameBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ConfigNameBox.BorderColor3 = Color3.fromRGB(60, 60, 60)
ConfigNameBox.Size = UDim2.new(0, 200, 0, 30)
ConfigNameBox.Font = Enum.Font.Gotham
ConfigNameBox.Text = ""
ConfigNameBox.PlaceholderText = "Config name..."
ConfigNameBox.PlaceholderColor3 = Color3.fromRGB(100, 100, 100)
ConfigNameBox.TextColor3 = Color3.fromRGB(255, 255, 255)
ConfigNameBox.TextSize = 12

Instance.new("UICorner", ConfigNameBox).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

local SaveConfigBtn = Instance.new("TextButton")
SaveConfigBtn.Name = "SaveConfigBtn"
SaveConfigBtn.Parent = ConfigContent
SaveConfigBtn.BackgroundColor3 = Color3.fromRGB(50, 150, 50)
SaveConfigBtn.Position = UDim2.new(0, 210, 0, 0)
SaveConfigBtn.Size = UDim2.new(0, 80, 0, 30)
SaveConfigBtn.Font = Enum.Font.GothamBold
SaveConfigBtn.Text = "Save"
SaveConfigBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
SaveConfigBtn.TextSize = 12

Instance.new("UICorner", SaveConfigBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

SaveConfigBtn.MouseButton1Click:Connect(function()
	local name = ConfigNameBox.Text
	if name == "" then name = "Config_" .. os.time() end
	ConfigSystem.SavedConfigs[name] = {
		Transparency = Settings.Transparency,
		AnimationSpeed = Settings.AnimationSpeed,
		RoundedCorners = Settings.RoundedCorners,
		FPSCap = Settings.FPSCap,
		DisableAnimations = Settings.DisableAnimations,
		DevMode = Settings.DevMode,
		Font = Settings.Font,
		SyntaxHighlighting = Settings.SyntaxHighlighting
	}
	ShowNotification("Config", "Saved configuration: " .. name, "Success", 2)
	RefreshConfigList()
end)

local LoadConfigBtn = Instance.new("TextButton")
LoadConfigBtn.Name = "LoadConfigBtn"
LoadConfigBtn.Parent = ConfigContent
LoadConfigBtn.BackgroundColor3 = Color3.fromRGB(50, 100, 150)
LoadConfigBtn.Position = UDim2.new(0, 300, 0, 0)
LoadConfigBtn.Size = UDim2.new(0, 80, 0, 30)
LoadConfigBtn.Font = Enum.Font.GothamBold
LoadConfigBtn.Text = "Load"
LoadConfigBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
LoadConfigBtn.TextSize = 12

Instance.new("UICorner", LoadConfigBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

LoadConfigBtn.MouseButton1Click:Connect(function()
	local name = ConfigNameBox.Text
	if ConfigSystem.SavedConfigs[name] then
		local config = ConfigSystem.SavedConfigs[name]
		Settings.Transparency = config.Transparency or 0
		Settings.AnimationSpeed = config.AnimationSpeed or 1.0
		Settings.RoundedCorners = config.RoundedCorners or 6
		Settings.FPSCap = config.FPSCap or 60
		Settings.DisableAnimations = config.DisableAnimations or false
		Settings.DevMode = config.DevMode or false
		Settings.Font = config.Font or "Code"
		Settings.SyntaxHighlighting = config.SyntaxHighlighting ~= false
		ApplyTransparency()
		ApplyRoundedCorners()
		setfpscap(Settings.FPSCap)
		ShowNotification("Config", "Loaded configuration: " .. name, "Success", 2)
	else
		ShowNotification("Error", "Configuration not found", "Error", 3)
	end
end)

local DeleteConfigBtn = Instance.new("TextButton")
DeleteConfigBtn.Name = "DeleteConfigBtn"
DeleteConfigBtn.Parent = ConfigContent
DeleteConfigBtn.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
DeleteConfigBtn.Position = UDim2.new(0, 390, 0, 0)
DeleteConfigBtn.Size = UDim2.new(0, 80, 0, 30)
DeleteConfigBtn.Font = Enum.Font.GothamBold
DeleteConfigBtn.Text = "Delete"
DeleteConfigBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
DeleteConfigBtn.TextSize = 12

Instance.new("UICorner", DeleteConfigBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

DeleteConfigBtn.MouseButton1Click:Connect(function()
	local name = ConfigNameBox.Text
	if ConfigSystem.SavedConfigs[name] then
		ConfigSystem.SavedConfigs[name] = nil
		ShowNotification("Config", "Deleted configuration: " .. name, "Success", 2)
		RefreshConfigList()
	else
		ShowNotification("Error", "Configuration not found", "Error", 3)
	end
end)

local ConfigList = Instance.new("ScrollingFrame")
ConfigList.Name = "ConfigList"
ConfigList.Parent = ConfigContent
ConfigList.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
ConfigList.BorderColor3 = Color3.fromRGB(50, 50, 50)
ConfigList.Position = UDim2.new(0, 0, 0, 40)
ConfigList.Size = UDim2.new(1, 0, 0, 100)
ConfigList.ScrollBarThickness = 4
ConfigList.CanvasSize = UDim2.new(0, 0, 0, 0)

Instance.new("UICorner", ConfigList).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

local ConfigListLayout = Instance.new("UIListLayout")
ConfigListLayout.Parent = ConfigList
ConfigListLayout.SortOrder = Enum.SortOrder.LayoutOrder
ConfigListLayout.Padding = UDim.new(0, 4)

local function RefreshConfigList()
	for _, child in pairs(ConfigList:GetChildren()) do
		if child:IsA("TextButton") then
			child:Destroy()
		end
	end
	for name, _ in pairs(ConfigSystem.SavedConfigs) do
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.new(1, -10, 0, 25)
		btn.Position = UDim2.new(0, 5, 0, 0)
		btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		btn.Text = name
		btn.TextColor3 = Color3.fromRGB(255, 255, 255)
		btn.TextSize = 11
		btn.Font = Enum.Font.Gotham
		btn.Parent = ConfigList
		Instance.new("UICorner", btn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
		btn.MouseButton1Click:Connect(function()
			ConfigNameBox.Text = name
		end)
	end
	ConfigList.CanvasSize = UDim2.new(0, 0, 0, #ConfigList:GetChildren() * 29)
end

local EditorSection, EditorContent = CreateSettingSection("Editor Settings")

local FontLabel = Instance.new("TextLabel")
FontLabel.Name = "FontLabel"
FontLabel.Parent = EditorContent
FontLabel.BackgroundTransparency = 1
FontLabel.Size = UDim2.new(0, 100, 0, 30)
FontLabel.Font = Enum.Font.Gotham
FontLabel.Text = "Font:"
FontLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
FontLabel.TextSize = 12
FontLabel.TextXAlignment = Enum.TextXAlignment.Left

local FontDropdown = Instance.new("TextButton")
FontDropdown.Name = "FontDropdown"
FontDropdown.Parent = EditorContent
FontDropdown.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
FontDropdown.Position = UDim2.new(0, 110, 0, 0)
FontDropdown.Size = UDim2.new(0, 150, 0, 30)
FontDropdown.Font = Enum.Font.Gotham
FontDropdown.Text = "  " .. Settings.Font
FontDropdown.TextColor3 = Color3.fromRGB(255, 255, 255)
FontDropdown.TextSize = 12
FontDropdown.TextXAlignment = Enum.TextXAlignment.Left

Instance.new("UICorner", FontDropdown).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

local FontArrow = Instance.new("ImageLabel")
FontArrow.Name = "Arrow"
FontArrow.Parent = FontDropdown
FontArrow.BackgroundTransparency = 1
FontArrow.Position = UDim2.new(1, -25, 0.5, -8)
FontArrow.Size = UDim2.new(0, 16, 0, 16)
FontArrow.Image = "rbxassetid://117408302517589"
FontArrow.ImageColor3 = Color3.fromRGB(200, 200, 200)
FontArrow.Rotation = 90

local FontOptionsFrame = Instance.new("Frame")
FontOptionsFrame.Name = "FontOptions"
FontOptionsFrame.Parent = FontDropdown
FontOptionsFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
FontOptionsFrame.BorderColor3 = Color3.fromRGB(50, 50, 50)
FontOptionsFrame.BorderSizePixel = 1
FontOptionsFrame.Position = UDim2.new(0, 0, 1, 5)
FontOptionsFrame.Size = UDim2.new(1, 0, 0, 180)
FontOptionsFrame.Visible = false
FontOptionsFrame.ZIndex = 100

Instance.new("UICorner", FontOptionsFrame).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))

local FontOptionsLayout = Instance.new("UIListLayout")
FontOptionsLayout.Parent = FontOptionsFrame
FontOptionsLayout.SortOrder = Enum.SortOrder.LayoutOrder

local function CreateFontOption(name)
	local btn = Instance.new("TextButton")
	btn.Name = name .. "Option"
	btn.Parent = FontOptionsFrame
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.Size = UDim2.new(1, 0, 0, 30)
	btn.Font = Enum.Font.Gotham
	btn.Text = "  " .. name
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.TextSize = 12
	btn.TextXAlignment = Enum.TextXAlignment.Left
	btn.ZIndex = 101
	btn.MouseButton1Click:Connect(function()
		Settings.Font = name
		FontDropdown.Text = "  " .. name
		Source.Font = FontOptions[name]
		LineNumbers.Font = FontOptions[name]
		SyntaxLabel.Font = FontOptions[name]
		FontOptionsFrame.Visible = false
		FontArrow.Rotation = 90
		ShowNotification("Settings", "Font changed to " .. name, "Success", 2)
	end)
end

for fontName, _ in pairs(FontOptions) do
	CreateFontOption(fontName)
end

FontDropdown.MouseButton1Click:Connect(function()
	FontOptionsFrame.Visible = not FontOptionsFrame.Visible
	FontArrow.Rotation = FontOptionsFrame.Visible and -90 or 90
end)

local SyntaxLabel = Instance.new("TextLabel")
SyntaxLabel.Name = "SyntaxLabel"
SyntaxLabel.Parent = EditorContent
SyntaxLabel.BackgroundTransparency = 1
SyntaxLabel.Position = UDim2.new(0, 0, 0, 40)
SyntaxLabel.Size = UDim2.new(0, 200, 0, 30)
SyntaxLabel.Font = Enum.Font.Gotham
SyntaxLabel.Text = "Syntax Highlighting:"
SyntaxLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
SyntaxLabel.TextSize = 12
SyntaxLabel.TextXAlignment = Enum.TextXAlignment.Left

local SyntaxToggle = Instance.new("TextButton")
SyntaxToggle.Name = "SyntaxToggle"
SyntaxToggle.Parent = EditorContent
SyntaxToggle.BackgroundColor3 = Settings.SyntaxHighlighting and Color3.fromRGB(50, 200, 100) or Color3.fromRGB(200, 50, 50)
SyntaxToggle.Position = UDim2.new(0, 210, 0, 40)
SyntaxToggle.Size = UDim2.new(0, 60, 0, 30)
SyntaxToggle.Font = Enum.Font.GothamBold
SyntaxToggle.Text = Settings.SyntaxHighlighting and "ON" or "OFF"
SyntaxToggle.TextColor3 = Color3.fromRGB(255, 255, 255)
SyntaxToggle.TextSize = 12

Instance.new("UICorner", SyntaxToggle).CornerRadius = UDim.new(0, 15)

SyntaxToggle.MouseButton1Click:Connect(function()
	Settings.SyntaxHighlighting = not Settings.SyntaxHighlighting
	SyntaxToggle.BackgroundColor3 = Settings.SyntaxHighlighting and Color3.fromRGB(50, 200, 100) or Color3.fromRGB(200, 50, 50)
	SyntaxToggle.Text = Settings.SyntaxHighlighting and "ON" or "OFF"
	updateLineNumbers()
	ShowNotification("Settings", "Syntax Highlighting " .. (Settings.SyntaxHighlighting and "Enabled" or "Disabled"), "Success", 2)
end)

CloseKeybind.Name = "CloseKeybind"
CloseKeybind.Parent = Topbar
CloseKeybind.BackgroundTransparency = 1
CloseKeybind.Position = UDim2.new(1, -50, 0, 5)
CloseKeybind.Size = UDim2.new(0, 40, 0, 20)
CloseKeybind.Font = Enum.Font.Roboto
CloseKeybind.Text = "[ F8 ]"
CloseKeybind.TextColor3 = Color3.fromRGB(200, 200, 200)
CloseKeybind.TextSize = 14

local CreditsFrame = Instance.new("Frame")
CreditsFrame.Name = "CreditsFrame"
CreditsFrame.Parent = Topbar
CreditsFrame.BackgroundTransparency = 1
CreditsFrame.Position = UDim2.new(1, -180, 0, 5)
CreditsFrame.Size = UDim2.new(0, 125, 0, 20)

local CreditsIcon = Instance.new("ImageLabel")
CreditsIcon.Name = "CreditsIcon"
CreditsIcon.Parent = CreditsFrame
CreditsIcon.BackgroundTransparency = 1
CreditsIcon.Position = UDim2.new(0, 0, 0, 0)
CreditsIcon.Size = UDim2.new(0, 20, 0, 20)
CreditsIcon.Image = "rbxassetid://13048477501"

local CreditsText = Instance.new("TextLabel")
CreditsText.Name = "CreditsText"
CreditsText.Parent = CreditsFrame
CreditsText.BackgroundTransparency = 1
CreditsText.Position = UDim2.new(0, 25, 0, 0)
CreditsText.Size = UDim2.new(1, -25, 1, 0)
CreditsText.Font = Enum.Font.Gotham
CreditsText.Text = 'Credits: "nynxyz_"'
CreditsText.TextColor3 = Color3.fromRGB(180, 180, 180)
CreditsText.TextSize = 12
CreditsText.TextXAlignment = Enum.TextXAlignment.Left

TextLabel.Parent = Topbar
TextLabel.BackgroundTransparency = 1
TextLabel.Position = UDim2.new(0, 15, 0, 0)
TextLabel.Size = UDim2.new(0, 300, 0, 40)
TextLabel.Font = Enum.Font.SourceSansBold
TextLabel.Text = "ZZINSWARE | Script-hub Executor"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextSize = 18
TextLabel.TextXAlignment = Enum.TextXAlignment.Left

local VersionBadge = Instance.new("TextLabel")
VersionBadge.Name = "VersionBadge"
VersionBadge.Parent = Topbar
VersionBadge.BackgroundTransparency = 1
VersionBadge.Position = UDim2.new(0, 330, 0, 8)
VersionBadge.Size = UDim2.new(0, 100, 0, 24)
VersionBadge.Font = Enum.Font.GothamBlack
VersionBadge.Text = "VERSION 4.5"
VersionBadge.TextSize = 16
VersionBadge.TextStrokeTransparency = 0.8
VersionBadge.TextStrokeColor3 = Color3.fromRGB(255, 255, 255)

local textGradient = Instance.new("UIGradient")
textGradient.Parent = VersionBadge
textGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(128, 128, 128)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255))
})
textGradient.Rotation = 45

local glow1 = VersionBadge:Clone()
glow1.Name = "Glow1"
glow1.Parent = Topbar
glow1.Position = UDim2.new(0, 330, 0, 8)
glow1.TextColor3 = Color3.fromRGB(128, 128, 128)
glow1.TextTransparency = 0.6
glow1.ZIndex = 0

local glow2 = VersionBadge:Clone()
glow2.Name = "Glow2"
glow2.Parent = Topbar
glow2.Position = UDim2.new(0, 330, 0, 8)
glow2.TextColor3 = Color3.fromRGB(255, 255, 255)
glow2.TextTransparency = 0.7
glow2.ZIndex = 0

local tweenService = game:GetService("TweenService")
local function animateGlow()
    while true do
        local tween1 = tweenService:Create(textGradient, TweenInfo.new(2, Enum.EasingStyle.Linear), {Rotation = textGradient.Rotation + 180})
        tween1:Play()
        wait(2)
    end
end
coroutine.wrap(animateGlow)()

function ApplyTransparency()
	Topbar.BackgroundTransparency = Settings.Transparency
	Frame.BackgroundTransparency = Settings.Transparency
	FilesFrame.BackgroundTransparency = Settings.Transparency
end

function ApplyRoundedCorners()
	local corners = math.min(Settings.RoundedCorners, 20)
	UICorner.CornerRadius = UDim.new(0, corners)
	UICorner_2.CornerRadius = UDim.new(0, corners)
end

local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

local player = game.Players.LocalPlayer
local savedFiles = {}
local selectedFile = nil

local dragging, dragInput, dragStart, startPos = false, nil, nil, nil

local function update(input)
	local delta = input.Position - dragStart
	Topbar.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
end

Topbar.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = Topbar.Position
		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then dragging = false end
		end)
	end
end)

Topbar.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInput = input
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input == dragInput and dragging then update(input) end
end)

local isVisible = true
UserInputService.InputBegan:Connect(function(Input, g)
	if not g and Input.KeyCode == Enum.KeyCode.F8 then
		isVisible = not isVisible
		Topbar.Visible = isVisible
	end
end)

local function SwitchTab(tab)
	InfoTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	InfoTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	EditorTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	EditorTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	SearcherTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	SearcherTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	GameScriptsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	GameScriptsTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	UniversalScriptsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	UniversalScriptsTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	SettingsTab.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	SettingsTab.ImageColor3 = Color3.fromRGB(150, 150, 150)
	InfoFrame.Visible = false
	EditorFrame.Visible = false
	SearcherFrame.Visible = false
	GameScriptsFrame.Visible = false
	UniversalScriptsFrame.Visible = false
	SettingsFrame.Visible = false
	if tab == "Info" then
		InfoTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		InfoTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		InfoFrame.Visible = true
	elseif tab == "Editor" then
		EditorTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		EditorTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		EditorFrame.Visible = true
	elseif tab == "Searcher" then
		SearcherTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		SearcherTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		SearcherFrame.Visible = true
	elseif tab == "GameScripts" then
		GameScriptsTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		GameScriptsTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		GameScriptsFrame.Visible = true
	elseif tab == "UniversalScripts" then
		UniversalScriptsTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		UniversalScriptsTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		UniversalScriptsFrame.Visible = true
	elseif tab == "Settings" then
		SettingsTab.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		SettingsTab.ImageColor3 = Color3.fromRGB(255, 255, 255)
		SettingsFrame.Visible = true
	end
end

InfoTab.MouseButton1Click:Connect(function() SwitchTab("Info") end)
EditorTab.MouseButton1Click:Connect(function() SwitchTab("Editor") end)
SearcherTab.MouseButton1Click:Connect(function() SwitchTab("Searcher") end)
GameScriptsTab.MouseButton1Click:Connect(function() SwitchTab("GameScripts") end)
UniversalScriptsTab.MouseButton1Click:Connect(function() SwitchTab("UniversalScripts") end)
SettingsTab.MouseButton1Click:Connect(function() SwitchTab("Settings") end)

CopyDiscordBtn.MouseButton1Click:Connect(function()
	local success = pcall(function()
		if setclipboard then
			setclipboard("https://discord.gg/xnVDpcAYgC")
		end
	end)
	if not success then
		ShowNotification("Error", "Failed to copy to clipboard", "Error", 3)
	end
end)

OpenConsole.MouseButton1Click:Connect(function()
	local success = pcall(function()
		if game:GetService("StarterGui"):GetCore("DevConsoleVisible") ~= nil then
			game:GetService("StarterGui"):SetCore("DevConsoleVisible", true)
		end
	end)
	if not success then
		ShowNotification("Error", "Failed to open console", "Error", 3)
	end
end)

Execute.MouseButton1Click:Connect(function()
	if Source.Text == "" then
		ShowNotification("Error", "No script to execute", "Error", 3)
		return
	end
	Settings.LastScript = Source.Text
	local success, err = pcall(function()
		loadstring(Source.Text)()
	end)
	if not success then
		ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
	end
end)

Clear.MouseButton1Click:Connect(function() 
	Source.Text = "" 
end)

Paste.MouseButton1Click:Connect(function()
	local success, result = pcall(function()
		return getclipboard and getclipboard() or ""
	end)
	if success and result ~= "" then
		Source.Text = result
	else
		ShowNotification("Error", "Failed to paste from clipboard", "Error", 3)
	end
end)

Copy.MouseButton1Click:Connect(function()
	if Source.Text == "" then
		ShowNotification("Error", "No text to copy", "Error", 3)
		return
	end
	local success = pcall(function()
		if setclipboard then
			setclipboard(Source.Text)
		end
	end)
	if not success then
		ShowNotification("Error", "Failed to copy to clipboard", "Error", 3)
	else
		ShowNotification("Success", "Text copied to clipboard", "Success", 2)
	end
end)

local function refreshFilesList()
	for _, child in pairs(FilesList:GetChildren()) do
		if child:IsA("TextButton") then
			child:Destroy()
		end
	end
	for name, _ in pairs(savedFiles) do
		local fileBtn = Instance.new("TextButton")
		fileBtn.Size = UDim2.new(1, 0, 0, 28)
		fileBtn.BackgroundColor3 = (selectedFile == name) and Color3.fromRGB(50, 50, 50) or Color3.fromRGB(30, 30, 30)
		fileBtn.Text = name
		fileBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
		fileBtn.TextSize = 11
		fileBtn.Font = Enum.Font.Gotham
		fileBtn.Parent = FilesList
		Instance.new("UICorner", fileBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
		fileBtn.MouseButton1Click:Connect(function()
			selectedFile = name
			FileNameBox.Text = name
			refreshFilesList()
		end)
	end
	FilesList.CanvasSize = UDim2.new(0, 0, 0, #savedFiles * 32)
end

SaveFileBtn.MouseButton1Click:Connect(function()
	local name = FileNameBox.Text
	if name == "" then name = "Script_" .. os.time() end
	if Source.Text == "" then
		ShowNotification("Error", "No script to save", "Error", 3)
		return
	end
	savedFiles[name] = Source.Text
	selectedFile = name
	refreshFilesList()
	ShowNotification("Success", "Script saved as '" .. name .. "'", "Success", 2)
end)

LoadFileBtn.MouseButton1Click:Connect(function()
	if selectedFile and savedFiles[selectedFile] then
		Source.Text = savedFiles[selectedFile]
		FileNameBox.Text = selectedFile
	elseif FileNameBox.Text ~= "" and savedFiles[FileNameBox.Text] then
		Source.Text = savedFiles[FileNameBox.Text]
		selectedFile = FileNameBox.Text
		refreshFilesList()
	else
		ShowNotification("Error", "No file selected", "Error", 3)
	end
end)

RenameFileBtn.MouseButton1Click:Connect(function()
	local oldName = selectedFile or FileNameBox.Text
	local newName = FileNameBox.Text
	if not oldName or not savedFiles[oldName] then
		ShowNotification("Error", "No file selected to rename", "Error", 3)
		return
	end
	if newName == "" then
		ShowNotification("Error", "Enter new name", "Error", 3)
		return
	end
	if newName == oldName then
		ShowNotification("Error", "New name must be different", "Error", 3)
		return
	end
	savedFiles[newName] = savedFiles[oldName]
	savedFiles[oldName] = nil
	selectedFile = newName
	refreshFilesList()
	ShowNotification("Success", "Renamed to '" .. newName .. "'", "Success", 2)
end)

DeleteFileBtn.MouseButton1Click:Connect(function()
	local name = selectedFile or FileNameBox.Text
	if not savedFiles[name] then
		ShowNotification("Error", "No file selected to delete", "Error", 3)
		return
	end
	savedFiles[name] = nil
	if selectedFile == name then selectedFile = nil end
	FileNameBox.Text = ""
	refreshFilesList()
	ShowNotification("Success", "File deleted", "Success", 2)
end)

ExecuteFileBtn.MouseButton1Click:Connect(function()
	local name = selectedFile or FileNameBox.Text
	if not savedFiles[name] then
		ShowNotification("Error", "No file selected to execute", "Error", 3)
		return
	end
	Settings.LastScript = savedFiles[name]
	local success, err = pcall(function()
		loadstring(savedFiles[name])()
	end)
	if not success then
		ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
	end
end)

local CurrentPage = 1
local CurrentQuery = ""
local CurrentFilter = ""
local ScriptsPerPage = 6
local TotalPages = 1

local function SearchScriptBlox(query, page)
	CurrentQuery = query
	CurrentPage = page or 1
	local results = {}
	local apiUrl
	if CurrentFilter == "trending" then
		apiUrl = "https://scriptblox.com/api/script/trending?page=" .. CurrentPage .. "&max=" .. ScriptsPerPage
	elseif CurrentFilter ~= "" then
		apiUrl = "https://scriptblox.com/api/script/fetch?" .. CurrentFilter .. "&page=" .. CurrentPage .. "&max=" .. ScriptsPerPage
	else
		apiUrl = "https://scriptblox.com/api/script/search?q=" .. HttpService:UrlEncode(query) .. "&page=" .. CurrentPage .. "&max=" .. ScriptsPerPage
	end
	local success, response = pcall(function()
		return game:HttpGet(apiUrl)
	end)
	if success and response then
		local data = HttpService:JSONDecode(response)
		if data and data.result and data.result.scripts then
			for i, script in pairs(data.result.scripts) do
				table.insert(results, {
					name = script.title or "Unknown",
					desc = "By " .. (script.owner and script.owner.username or "Unknown") .. " | " .. (script.game and script.game.name or "Universal") .. " | " .. (script.views or 0) .. " views",
					code = script.script or "",
					image = script.game and script.game.imageUrl or "",
					verified = script.verified or false,
					key = script.key or false,
					scriptType = script.scriptType or "normal",
					isPatched = script.isPatched or false,
					isUniversal = script.isUniversal or false,
					slug = script.slug or ""
				})
			end
			if data.result.total then
				TotalPages = math.ceil(data.result.total / ScriptsPerPage)
				PageLabel.Text = CurrentPage .. "/" .. TotalPages
			else
				TotalPages = 999
				PageLabel.Text = tostring(CurrentPage)
			end
		end
	end
	return results
end

local function GetScriptDetails(slug)
	local success, response = pcall(function()
		return game:HttpGet("https://scriptblox.com/api/script/" .. slug .. "?legacy_tags=true")
	end)
	if success and response then
		local data = HttpService:JSONDecode(response)
		if data and data.result then
			return data.result.script
		end
	end
	return nil
end

local function CreateScriptButton(data, parent)
	local Btn = Instance.new("Frame")
	Btn.Size = UDim2.new(1, -10, 0, 80)
	Btn.Position = UDim2.new(0, 5, 0, 0)
	Btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	Btn.BorderSizePixel = 0
	Btn.Parent = parent
	Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local Thumbnail = Instance.new("ImageLabel")
	Thumbnail.Name = "Thumbnail"
	Thumbnail.Size = UDim2.new(0, 60, 0, 60)
	Thumbnail.Position = UDim2.new(0, 10, 0, 10)
	Thumbnail.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	Thumbnail.ScaleType = Enum.ScaleType.Crop
	Thumbnail.Parent = Btn
	Instance.new("UICorner", Thumbnail).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	if data.image and data.image ~= "" then
		Thumbnail.Image = data.image
	else
		Thumbnail.Image = "rbxassetid://9405926389"
	end
	local BadgeFrame = Instance.new("Frame")
	BadgeFrame.Size = UDim2.new(0, 200, 0, 16)
	BadgeFrame.Position = UDim2.new(0, 75, 0, 8)
	BadgeFrame.BackgroundTransparency = 1
	BadgeFrame.Parent = Btn
	local badgeOffset = 0
	if data.verified then
		local Verified = Instance.new("ImageLabel")
		Verified.Size = UDim2.new(0, 16, 0, 16)
		Verified.Position = UDim2.new(0, badgeOffset, 0, 0)
		Verified.BackgroundTransparency = 1
		Verified.Image = "rbxassetid://11839277083"
		Verified.ImageColor3 = Color3.fromRGB(200, 200, 200)
		Verified.Parent = BadgeFrame
		badgeOffset = badgeOffset + 20
	end
	if data.isUniversal then
		local UniBadge = Instance.new("TextLabel")
		UniBadge.Size = UDim2.new(0, 50, 0, 16)
		UniBadge.Position = UDim2.new(0, badgeOffset, 0, 0)
		UniBadge.BackgroundColor3 = Color3.fromRGB(100, 100,100)
		UniBadge.Text = "UNIVERSAL"
		UniBadge.TextColor3 = Color3.fromRGB(255, 255, 255)
		UniBadge.TextSize = 7
		UniBadge.Font = Enum.Font.GothamBold
		UniBadge.Parent = BadgeFrame
		Instance.new("UICorner", UniBadge).CornerRadius = UDim.new(0, 3)
		badgeOffset = badgeOffset + 55
	end
	if data.key then
		local KeyBadge = Instance.new("TextLabel")
		KeyBadge.Size = UDim2.new(0, 30, 0, 16)
		KeyBadge.Position = UDim2.new(0, badgeOffset, 0, 0)
		KeyBadge.BackgroundColor3 = Color3.fromRGB(150, 150, 150)
		KeyBadge.Text = "KEY"
		KeyBadge.TextColor3 = Color3.fromRGB(255, 255, 255)
		KeyBadge.TextSize = 8
		KeyBadge.Font = Enum.Font.GothamBold
		KeyBadge.Parent = BadgeFrame
		Instance.new("UICorner", KeyBadge).CornerRadius = UDim.new(0, 3)
		badgeOffset = badgeOffset + 35
	end
	if data.isPatched then
		local PatchedBadge = Instance.new("TextLabel")
		PatchedBadge.Size = UDim2.new(0, 50, 0, 16)
		PatchedBadge.Position = UDim2.new(0, badgeOffset, 0, 0)
		PatchedBadge.BackgroundColor3 = Color3.fromRGB(150, 50, 50)
		PatchedBadge.Text = "PATCHED"
		PatchedBadge.TextColor3 = Color3.fromRGB(255, 255, 255)
		PatchedBadge.TextSize = 8
		PatchedBadge.Font = Enum.Font.GothamBold
		PatchedBadge.Parent = BadgeFrame
		Instance.new("UICorner", PatchedBadge).CornerRadius = UDim.new(0, 3)
		badgeOffset = badgeOffset + 55
	end
	if data.scriptType == "paid" then
		local PaidBadge = Instance.new("TextLabel")
		PaidBadge.Size = UDim2.new(0, 30, 0, 16)
		PaidBadge.Position = UDim2.new(0, badgeOffset, 0, 0)
		PaidBadge.BackgroundColor3 = Color3.fromRGB(200, 200, 200)
		PaidBadge.Text = "PAID"
		PaidBadge.TextColor3 = Color3.fromRGB(0, 0, 0)
		PaidBadge.TextSize = 8
		PaidBadge.Font = Enum.Font.GothamBold
		PaidBadge.Parent = BadgeFrame
		Instance.new("UICorner", PaidBadge).CornerRadius = UDim.new(0, 3)
	end
	local Title = Instance.new("TextLabel")
	Title.Size = UDim2.new(1, -150, 0, 18)
	Title.Position = UDim2.new(0, 75, 0, 28)
	Title.BackgroundTransparency = 1
	Title.Text = data.name
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.TextSize = 13
	Title.Font = Enum.Font.GothamBold
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextTruncate = Enum.TextTruncate.AtEnd
	Title.Parent = Btn
	local Desc = Instance.new("TextLabel")
	Desc.Size = UDim2.new(1, -150, 0, 25)
	Desc.Position = UDim2.new(0, 75, 0, 48)
	Desc.BackgroundTransparency = 1
	Desc.Text = data.desc
	Desc.TextColor3 = Color3.fromRGB(150, 150, 150)
	Desc.TextSize = 10
	Desc.Font = Enum.Font.Gotham
	Desc.TextXAlignment = Enum.TextXAlignment.Left
	Desc.TextYAlignment = Enum.TextYAlignment.Top
	Desc.TextWrapped = true
	Desc.Parent = Btn
	local ExecBtn = Instance.new("ImageButton")
	ExecBtn.Name = "Execute"
	ExecBtn.Size = UDim2.new(0, 30, 0, 30)
	ExecBtn.Position = UDim2.new(1, -70, 0, 15)
	ExecBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	ExecBtn.Image = "rbxassetid://119065240115720"
	ExecBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
	ExecBtn.Parent = Btn
	Instance.new("UICorner", ExecBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	local ExecBtnTooltip = Instance.new("Frame")
	ExecBtnTooltip.Name = "ExecBtnTooltip"
	ExecBtnTooltip.Parent = ExecBtn
	ExecBtnTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	ExecBtnTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
	ExecBtnTooltip.BorderSizePixel = 1
	ExecBtnTooltip.Position = UDim2.new(0, 0, 0, -28)
	ExecBtnTooltip.Size = UDim2.new(0, 60, 0, 22)
	ExecBtnTooltip.Visible = false
	ExecBtnTooltip.ZIndex = 10
	local ExecBtnTooltipCorner = Instance.new("UICorner")
	ExecBtnTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	ExecBtnTooltipCorner.Parent = ExecBtnTooltip
	local ExecBtnTooltipText = Instance.new("TextLabel")
	ExecBtnTooltipText.Parent = ExecBtnTooltip
	ExecBtnTooltipText.BackgroundTransparency = 1
	ExecBtnTooltipText.Size = UDim2.new(1, 0, 1, 0)
	ExecBtnTooltipText.Font = Enum.Font.GothamSemibold
	ExecBtnTooltipText.Text = "Execute"
	ExecBtnTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
	ExecBtnTooltipText.TextSize = 11
	ExecBtnTooltipText.ZIndex = 11
	ExecBtn.MouseEnter:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
		ExecBtnTooltip.Visible = true
	end)
	ExecBtn.MouseLeave:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		ExecBtnTooltip.Visible = false
	end)
	ExecBtn.MouseButton1Click:Connect(function()
		if data.code and data.code ~= "" then
			Source.Text = data.code
			Settings.LastScript = data.code
			SwitchTab("Editor")
			local success, err = pcall(function()
				loadstring(data.code)()
			end)
			if not success then
				ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
			end
		elseif data.slug ~= "" then
			local details = GetScriptDetails(data.slug)
			if details and details.script then
				Source.Text = details.script
				Settings.LastScript = details.script
				SwitchTab("Editor")
				local success, err = pcall(function()
					loadstring(details.script)()
				end)
				if not success then
					ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
				end
			else
				ShowNotification("Error", "Failed to load script details", "Error", 3)
			end
		else
			ShowNotification("Error", "No script code available", "Error", 3)
		end
	end)
	local CopyBtn = Instance.new("ImageButton")
	CopyBtn.Name = "Copy"
	CopyBtn.Size = UDim2.new(0, 30, 0, 30)
	CopyBtn.Position = UDim2.new(1, -35, 0, 15)
	CopyBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	CopyBtn.Image = "rbxassetid://127935026620905"
	CopyBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
	CopyBtn.Parent = Btn
	Instance.new("UICorner", CopyBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	local CopyBtnTooltip = Instance.new("Frame")
	CopyBtnTooltip.Name = "CopyBtnTooltip"
	CopyBtnTooltip.Parent = CopyBtn
	CopyBtnTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	CopyBtnTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
	CopyBtnTooltip.BorderSizePixel = 1
	CopyBtnTooltip.Position = UDim2.new(0, 0, 0, -28)
	CopyBtnTooltip.Size = UDim2.new(0, 60, 0, 22)
	CopyBtnTooltip.Visible = false
	CopyBtnTooltip.ZIndex = 10
	local CopyBtnTooltipCorner = Instance.new("UICorner")
	CopyBtnTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	CopyBtnTooltipCorner.Parent = CopyBtnTooltip
	local CopyBtnTooltipText = Instance.new("TextLabel")
	CopyBtnTooltipText.Parent = CopyBtnTooltip
	CopyBtnTooltipText.BackgroundTransparency = 1
	CopyBtnTooltipText.Size = UDim2.new(1, 0, 1, 0)
	CopyBtnTooltipText.Font = Enum.Font.GothamSemibold
	CopyBtnTooltipText.Text = "Copy"
	CopyBtnTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
	CopyBtnTooltipText.TextSize = 11
	CopyBtnTooltipText.ZIndex = 11
	CopyBtn.MouseEnter:Connect(function()
		CopyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		CopyBtnTooltip.Visible = true
	end)
	CopyBtn.MouseLeave:Connect(function()
		CopyBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		CopyBtnTooltip.Visible = false
	end)
	CopyBtn.MouseButton1Click:Connect(function()
		if data.code and data.code ~= "" then
			Source.Text = data.code
			SwitchTab("Editor")
		elseif data.slug ~= "" then
			local details = GetScriptDetails(data.slug)
			if details and details.script then
				Source.Text = details.script
				SwitchTab("Editor")
			else
				ShowNotification("Error", "Failed to load script details", "Error", 3)
			end
		else
			ShowNotification("Error", "No script code available", "Error", 3)
		end
	end)
	local ViewBtn = Instance.new("ImageButton")
	ViewBtn.Name = "View"
	ViewBtn.Size = UDim2.new(0, 30, 0, 30)
	ViewBtn.Position = UDim2.new(1, -70, 0, 50)
	ViewBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	ViewBtn.Image = "rbxassetid://11713325834"
	ViewBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
	ViewBtn.Parent = Btn
	Instance.new("UICorner", ViewBtn).CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	local ViewBtnTooltip = Instance.new("Frame")
	ViewBtnTooltip.Name = "ViewBtnTooltip"
	ViewBtnTooltip.Parent = ViewBtn
	ViewBtnTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	ViewBtnTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
	ViewBtnTooltip.BorderSizePixel = 1
	ViewBtnTooltip.Position = UDim2.new(0, 0, 0, -28)
	ViewBtnTooltip.Size = UDim2.new(0, 60, 0, 22)
	ViewBtnTooltip.Visible = false
	ViewBtnTooltip.ZIndex = 10
	local ViewBtnTooltipCorner = Instance.new("UICorner")
	ViewBtnTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	ViewBtnTooltipCorner.Parent = ViewBtnTooltip
	local ViewBtnTooltipText = Instance.new("TextLabel")
	ViewBtnTooltipText.Parent = ViewBtnTooltip
	ViewBtnTooltipText.BackgroundTransparency = 1
	ViewBtnTooltipText.Size = UDim2.new(1, 0, 1, 0)
	ViewBtnTooltipText.Font = Enum.Font.GothamSemibold
	ViewBtnTooltipText.Text = "View"
	ViewBtnTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
	ViewBtnTooltipText.TextSize = 11
	ViewBtnTooltipText.ZIndex = 11
	ViewBtn.MouseEnter:Connect(function()
		ViewBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		ViewBtnTooltip.Visible = true
	end)
	ViewBtn.MouseLeave:Connect(function()
		ViewBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		ViewBtnTooltip.Visible = false
	end)
	ViewBtn.MouseButton1Click:Connect(function()
		if data.slug ~= "" then
			local details = GetScriptDetails(data.slug)
			if details then
				local infoText = "Title: " .. (details.title or "Unknown") .. "\n"
				infoText = infoText .. "Game: " .. (details.game and details.game.name or "Universal") .. "\n"
				infoText = infoText .. "Views: " .. (details.views or 0) .. "\n"
				infoText = infoText .. "Verified: " .. tostring(details.verified or false) .. "\n"
				infoText = infoText .. "Key Required: " .. tostring(details.key or false) .. "\n"
				infoText = infoText .. "Patched: " .. tostring(details.isPatched or false) .. "\n"
				infoText = infoText .. "Created: " .. (details.createdAt or "Unknown")
				Source.Text = "-- Script Info:\n-- " .. infoText:gsub("\n", "\n-- ") .. "\n\n" .. (details.script or "-- No script code available")
				SwitchTab("Editor")
			else
				ShowNotification("Error", "Failed to load script details", "Error", 3)
			end
		else
			ShowNotification("Error", "No script details available", "Error", 3)
		end
	end)
end

local function ClearList(parent)
	for _, child in pairs(parent:GetChildren()) do
		if child:IsA("Frame") then
			child:Destroy()
		end
	end
end

local function PerformSearch()
	local query = SearchBox.Text
	if query == "" and CurrentFilter == "" then 
		ShowNotification("Error", "Enter search query or select filter", "Error", 3)
		return 
	end
	ClearList(ScriptList)
	local Loading = Instance.new("TextLabel")
	Loading.Size = UDim2.new(1, 0, 0, 50)
	Loading.Position = UDim2.new(0, 0, 0, 80)
	Loading.BackgroundTransparency = 1
	Loading.Text = "Searching..."
	Loading.TextColor3 = Color3.fromRGB(255, 255, 255)
	Loading.TextSize = 14
	Loading.Parent = ScriptList
	local results = SearchScriptBlox(query, CurrentPage)
	Loading:Destroy()
	if #results == 0 then
		local NoResults = Instance.new("TextLabel")
		NoResults.Size = UDim2.new(1, 0, 0, 50)
		NoResults.Position = UDim2.new(0, 0, 0, 80)
		NoResults.BackgroundTransparency = 1
		NoResults.Text = "No results found"
		NoResults.TextColor3 = Color3.fromRGB(255, 100, 100)
		NoResults.TextSize = 14
		NoResults.Parent = ScriptList
	else
		for _, script in pairs(results) do
			CreateScriptButton(script, ScriptList)
		end
	end
	ScriptList.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y + 10)
end

SearchButton.MouseButton1Click:Connect(PerformSearch)

SearchBox.FocusLost:Connect(function(enterPressed)
	if enterPressed then
		PerformSearch()
	end
end)

NextPageBtn.MouseButton1Click:Connect(function()
	if CurrentPage < TotalPages then
		CurrentPage = CurrentPage + 1
		PerformSearch()
	else
		ShowNotification("Error", "Already on last page", "Error", 3)
	end
end)

PrevPageBtn.MouseButton1Click:Connect(function()
	if CurrentPage > 1 then
		CurrentPage = CurrentPage - 1
		PerformSearch()
	else
		ShowNotification("Error", "Already on first page", "Error", 3)
	end
end)

local gameScripts = {
	{name = "Siren Head: LEGACY", url = "https://raw.githubusercontent.com/ZZINSWARE/Siren-Head-LEGACY/refs/heads/main/ZZINSWARE"},
	{name = "The Rake Remastered", url = "https://raw.githubusercontent.com/ZZINSWARE/The-Rake-Remastered/refs/heads/main/ZZINSWARE"},
	{name = "Feel The Facility", url = "https://raw.githubusercontent.com/ZZINSWARE/Feel-The-Facility/refs/heads/main/ZZINSWARE"},
	{name = "Death Note", url = "https://raw.githubusercontent.com/ZZINSWARE/Death-Note/refs/heads/main/ZZINSWARE"},
	{name = "99 Nights in The Forest", url = "https://raw.githubusercontent.com/ZZINSWARE/99-Nights-In-The-Forest/refs/heads/main/ZZINSWARE"},
	{name = "Fluffy Infection", url = "https://raw.githubusercontent.com/ZZINSWARE/Fluffy-Infection/refs/heads/main/ZZINSWARE"},
	{name = "3008", url = "https://raw.githubusercontent.com/ZZINSWARE/3008/refs/heads/main/ZZINSWARE"},
	{name = "Infectious Smile", url = "https://raw.githubusercontent.com/ZZINSWARE/Infectious-Smile/main/ZZINSWARE"},
	{name = "Another Infection Game", url = "https://raw.githubusercontent.com/ZZINSWARE/Another-Infection-Game/refs/heads/main/ZZINSWARE"},
	{name = "Zombie Attack", url = "https://raw.githubusercontent.com/ZZINSWARE/Zombie-Attack/refs/heads/main/ZZINSWARE"},
	{name = "Gun Grounds FFA", url = "https://raw.githubusercontent.com/ZZINS077/Gun-Grounds-FFA/refs/heads/main/ZZINSHUB"},
	{name = "Hunty Zombie", url = "https://raw.githubusercontent.com/ZZINSWARE/Hunty-Zombie/refs/heads/main/ZZINSWARE"},
	{name = "Zombie RNG", url = "https://raw.githubusercontent.com/ZZINSWARE/Zombie-RNG/refs/heads/main/ZZINSWARE"},
	{name = "Blade X Zombies", url = "https://raw.githubusercontent.com/ZZINSWARE/Blade-X-Zombies/refs/heads/main/ZZINSWARE"},
	{name = "Zombie Rush", url = "https://raw.githubusercontent.com/ZZINSWARE/Zombie-Rush/refs/heads/main/ZZINSWARE"},
	{name = "Noobs Must Die", url = "https://raw.githubusercontent.com/ZZINS077/Noobs-Must-die/main/ZZINSHUB"},
	{name = "Noob Invaders", url = "https://raw.githubusercontent.com/ZZINSWARE/Noob-Invaders/refs/heads/main/ZZINSWARE"},
	{name = "Arsenal", url = "https://raw.githubusercontent.com/ZZINSWARE/Arsneal/main/ZZINSWARE"},
	{name = "Fortline", url = "https://raw.githubusercontent.com/ZZINSWARE/Fortline/refs/heads/main/ZZINSHUB"},
	{name = "Combat Arena", url = "https://raw.githubusercontent.com/ZZINSWARE/Combat-Arena/refs/heads/main/ZZINSWARE"},
	{name = "The Last Front", url = "https://raw.githubusercontent.com/ZZINSWARE/The-Last-Front/refs/heads/main/ZZINSWARE"},
	{name = "Blade Ball", url = "https://raw.githubusercontent.com/ZZINSWARE/Blade-Ball/refs/heads/main/ZZINSWARE"},
	{name = "Death Ball", url = "https://raw.githubusercontent.com/ZZINSWARE/Death-Ball/refs/heads/main/ZZINSWARE"},
	{name = "Blind Shot", url = "https://raw.githubusercontent.com/ZZINSWARE/Blind-Shot/refs/heads/main/ZZINSWARE"},
	{name = "Tower of Hell", url = "https://raw.githubusercontent.com/ZZINS077/Tower-of-Hell/refs/heads/main/ZZINS%20HUB"},
	{name = "Tower of Jump", url = "https://raw.githubusercontent.com/ZZINSWARE/Tower-Of-Jump/refs/heads/main/ZZINSWARE"},
	{name = "Brainrot Tower", url = "https://raw.githubusercontent.com/ZZINSWARE/Brainrot-Tower/refs/heads/main/ZZINSWARE"},
	{name = "Prop Morph Tower", url = "https://raw.githubusercontent.com/ZZINSWARE/Prop-Morph-Tower/refs/heads/main/ZZINSWARE"},
	{name = "a Dusty Trip", url = "https://raw.githubusercontent.com/ZZINSWARE/a-Dusty-Trip/refs/heads/main/ZZINSWARE"},
	{name = "Build a Boat For Treasure", url = "https://raw.githubusercontent.com/ZZINSWARE/Build-a-Boat-For-Treasure/refs/heads/main/ZZINSWARE"},
	{name = "Blox Fruits", url = "https://raw.githubusercontent.com/ZZINSWARE/Blox-fruits/refs/heads/main/ZZINSWARE"},
	{name = "Anime Final Quest", url = "https://raw.githubusercontent.com/ZZINSWARE/Anime-Final-Quest/refs/heads/main/ZZINSWARE"},
	{name = "Elemental Dungeons", url = "https://raw.githubusercontent.com/ZZINSWARE/Elemental-Dungeons/refs/heads/main/ZZINZWARE"},
	{name = "Dungeon Heros", url = "https://raw.githubusercontent.com/ZZINSWARE/Dungeon-Heros/refs/heads/main/ZZINSWARE"},
	{name = "Legends of Speed", url = "https://raw.githubusercontent.com/ZZINSWARE/Legends-of-Speed/refs/heads/main/ZZINSWARE"},
	{name = "Last Run", url = "https://raw.githubusercontent.com/ZZINSWARE/Last-Run/refs/heads/main/ZZINSWARE"},
	{name = "Plants Vs Brainrots", url = "https://raw.githubusercontent.com/ZZINSWARE/Plants-vs-Brainrots/refs/heads/main/ZZINSWARE"},
	{name = "Fish a Brainrot", url = "https://raw.githubusercontent.com/ZZINSWARE/Fish-a-Brainrot-/refs/heads/main/ZZINSWARE"},
	{name = "My Fishing Brainrots", url = "https://raw.githubusercontent.com/ZZINSWARE/My-Fishing-Brainrots/refs/heads/main/ZZINSWARE"},
	{name = "Smack The Brainrots", url = "https://raw.githubusercontent.com/ZZINSWARE/Smack-The-Brainrots/refs/heads/main/ZZINSWARE"},
	{name = "Poop a Brainrot", url = "https://raw.githubusercontent.com/ZZINSWARE/Poop-a-Brainrot/refs/heads/main/ZZINSWARE"},
	{name = "Find The Brainrots", url = "https://raw.githubusercontent.com/ZZINSWARE/Find-The-Brainrots/refs/heads/main/ZZINSWARE"},
	{name = "Poop a Big Poop", url = "https://raw.githubusercontent.com/ZZINSWARE/Poop-a-Big-Poop/refs/heads/main/ZZINSWARE"},
	{name = "Poop Everything", url = "https://raw.githubusercontent.com/ZZINSWARE/Poop-Everything/refs/heads/main/ZZINSWARE"},
	{name = "Iq Test", url = "https://raw.githubusercontent.com/ZZINSWARE/IQ-Test/refs/heads/main/ZZINSWARE"},
	{name = "Emote RNG", url = "https://raw.githubusercontent.com/ZZINSWARE/Emote-RNG/refs/heads/main/ZZINSWARE"},
	{name = "Drill For Ores", url = "https://raw.githubusercontent.com/ZZINSWARE/Drill-For-Ores/refs/heads/main/ZZINSWARE"},
	{name = "Fisch", url = "https://raw.githubusercontent.com/ZZINSWARE/Fisch/refs/heads/main/ZZINSWARE"},
	{name = "Go Fishing", url = "https://raw.githubusercontent.com/ZZINSWARE/Go-Fishing/refs/heads/main/ZZINSWARE"},
	{name = "Sword Fishing", url = "https://raw.githubusercontent.com/ZZINSWARE/Sword-Fishing/refs/heads/main/ZZINSWARE"},
	{name = "Throw a Basketball", url = "https://raw.githubusercontent.com/ZZINSWARE/Throw-a-Basketball/refs/heads/main/ZZINSWARE"},
	{name = "Blue Lock Rivals", url = "https://raw.githubusercontent.com/ZZINSWARE/Blue-Lock-Rivals/refs/heads/main/ZZINSWARE"},
	{name = "Flick", url = "https://raw.githubusercontent.com/ZZINSWARE/Flick/refs/heads/main/ZZINSWARE"},
	{name = "Funky Friday", url = "https://raw.githubusercontent.com/ZZINSWARE/Funky-Friday/refs/heads/main/ZZINSWARE"},
	{name = "Lucky Block BattleGrounds", url = "https://raw.githubusercontent.com/ZZINSWARE/Lucky-block-Battlegrounds/refs/heads/main/ZZINSWARE"},
	{name = "Animal Simulator", url = "https://raw.githubusercontent.com/ZZINSWARE/Animal-Simulator/main/ZZINSWARE"},
	{name = "Vehicle Legends Cars", url = "https://raw.githubusercontent.com/ZZINSWARE/Vehicle-Legends-Cars/main/ZZINSWARE"},
	{name = "Cut Trees", url = "https://raw.githubusercontent.com/ZZINSWARE/Cut-Trees/refs/heads/main/ZZINSWARE"},
	{name = "Chop Your Tree", url = "https://raw.githubusercontent.com/ZZINSWARE/Chop-your-Tree/refs/heads/main/ZZINSWARE"},
	{name = "Meme Sea", url = "https://raw.githubusercontent.com/ZZINSWARE/Meme-Sea/refs/heads/main/ZZINSWARE"},
	{name = "The Forge", url = "https://raw.githubusercontent.com/ZZINSWARE/The-Forge/refs/heads/main/ZZINSWARE"},
	{name = "Lootify", url = "https://raw.githubusercontent.com/ZZINSWARE/Lootify/refs/heads/main/ZZINSWARE"},
	{name = "Voxels", url = "https://raw.githubusercontent.com/ZZINSWARE/Voxels/main/ZZINSWARE"},
	{name = "67 Tag", url = "https://raw.githubusercontent.com/ZZINSWARE/67-Tag/refs/heads/main/ZZINSWARE"},
	{name = "You Vs Homer", url = "https://raw.githubusercontent.com/ZZINSWARE/You-Vs-Homer/refs/heads/main/ZZINSWARE"},
	{name = "Hero Loot", url = "https://raw.githubusercontent.com/ZZINSWARE/Hero-Loot/refs/heads/main/ZZINSWARE"},
	{name = "Slap Fights", url = "https://raw.githubusercontent.com/ZZINSWARE/Slap-Fights/refs/heads/main/ZZINSWARE"},
	{name = "Fish For Lucky Blocks", url = "https://raw.githubusercontent.com/ZZINSWARE/Fish-For-Lucky-Blocks/refs/heads/main/ZZINSWARE"},
	{name = "You Vs Homer [Wallhop Practice]", url = "https://raw.githubusercontent.com/ZZINSWARE/You-Vs-Homer-WallHop-Practice-/refs/heads/main/ZZINSWARE"},
	{name = "Anime Slap Tower", url = "https://raw.githubusercontent.com/ZZINSWARE/Anime-Slap-Tower/refs/heads/main/ZZINSWARE"},
	{name = "Chat With Signs", url = "https://raw.githubusercontent.com/ZZINSWARE/Chat-With-Signs/refs/heads/main/ZZINSWARE"}
}

local universalScripts = {
	{name = "Image Logger", url = "https://raw.githubusercontent.com/ZZINSWARE/Image-Logger/refs/heads/main/ZZINSWARE"},
	{name = "Better Console", url = "https://raw.githubusercontent.com/ZZINSWARE/Console/refs/heads/main/ZZINSWARE"},
	{name = "Fake Lag Switch", url = "https://raw.githubusercontent.com/ZZINSWARE/Fake-Lag-switch/refs/heads/main/ZZINSWARE"},
	{name = "Sus R6 Animations", url = "https://raw.githubusercontent.com/ZZINSWARE/Sus-R6/refs/heads/main/ZZINSWARE"},
	{name = "Chat Spammer", url = "https://raw.githubusercontent.com/ZZINSWARE/Chat-Spammer/refs/heads/main/ZZINSWARE"},
	{name = "Chat Bypasser", url = "https://raw.githubusercontent.com/ZZINSWARE/Chat-Bypasser/refs/heads/main/ZZINSWARE"},
	{name = "Fake Wallhop", url = "https://raw.githubusercontent.com/ZZINSWARE/Fake-Wallhop/refs/heads/main/ZZINSWARE"},
	{name = "Anti Tools", url = "https://raw.githubusercontent.com/ZZINSWARE/Anti-Tools/refs/heads/main/ZZINSWARE"},
	{name = "FE Invisible", url = "https://raw.githubusercontent.com/ZZINSWARE/FE-Invisible/refs/heads/main/ZZINSWARE"}
}

local function CreateGameButton(data)
	local Btn = Instance.new("Frame")
	Btn.Size = UDim2.new(1, -10, 0, 50)
	Btn.Position = UDim2.new(0, 5, 0, 0)
	Btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	Btn.BorderSizePixel = 0
	Btn.Parent = GameScriptsList
	Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local Title = Instance.new("TextLabel")
	Title.Size = UDim2.new(1, -100, 0, 50)
	Title.Position = UDim2.new(0, 15, 0, 0)
	Title.BackgroundTransparency = 1
	Title.Text = data.name
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.TextSize = 14
	Title.Font = Enum.Font.GothamBold
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextTruncate = Enum.TextTruncate.AtEnd
	Title.Parent = Btn
	local ExecBtn = Instance.new("ImageButton")
	ExecBtn.Size = UDim2.new(0, 35, 0, 35)
	ExecBtn.Position = UDim2.new(1, -45, 0, 7)
	ExecBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	ExecBtn.Image = "rbxassetid://119065240115720"
	ExecBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
	ExecBtn.Parent = Btn
	Instance.new("UICorner", ExecBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local ExecBtnTooltip = Instance.new("Frame")
	ExecBtnTooltip.Name = "ExecBtnTooltip"
	ExecBtnTooltip.Parent = ExecBtn
	ExecBtnTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	ExecBtnTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
	ExecBtnTooltip.BorderSizePixel = 1
	ExecBtnTooltip.Position = UDim2.new(0, 0, 0, -28)
	ExecBtnTooltip.Size = UDim2.new(0, 60, 0, 22)
	ExecBtnTooltip.Visible = false
	ExecBtnTooltip.ZIndex = 10
	local ExecBtnTooltipCorner = Instance.new("UICorner")
	ExecBtnTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	ExecBtnTooltipCorner.Parent = ExecBtnTooltip
	local ExecBtnTooltipText = Instance.new("TextLabel")
	ExecBtnTooltipText.Parent = ExecBtnTooltip
	ExecBtnTooltipText.BackgroundTransparency = 1
	ExecBtnTooltipText.Size = UDim2.new(1, 0, 1, 0)
	ExecBtnTooltipText.Font = Enum.Font.GothamSemibold
	ExecBtnTooltipText.Text = "Execute"
	ExecBtnTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
	ExecBtnTooltipText.TextSize = 11
	ExecBtnTooltipText.ZIndex = 11
	ExecBtn.MouseEnter:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		ExecBtnTooltip.Visible = true
	end)
	ExecBtn.MouseLeave:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		ExecBtnTooltip.Visible = false
	end)
	ExecBtn.MouseButton1Click:Connect(function()
		local success, err = pcall(function()
			loadstring(game:HttpGet(data.url))()
		end)
		if success then
			ShowNotification("Success", "Executed: " .. data.name, "Success", 2)
		else
			ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
		end
	end)
end

local function CreateUniButton(data)
	local Btn = Instance.new("Frame")
	Btn.Size = UDim2.new(1, -10, 0, 50)
	Btn.Position = UDim2.new(0, 5, 0, 0)
	Btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	Btn.BorderSizePixel = 0
	Btn.Parent = UniScriptsList
	Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local Title = Instance.new("TextLabel")
	Title.Size = UDim2.new(1, -100, 0, 50)
	Title.Position = UDim2.new(0, 15, 0, 0)
	Title.BackgroundTransparency = 1
	Title.Text = data.name
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.TextSize = 14
	Title.Font = Enum.Font.GothamBold
	Title.TextXAlignment = Enum.TextXAlignment.Left
	Title.TextTruncate = Enum.TextTruncate.AtEnd
	Title.Parent = Btn
	local ExecBtn = Instance.new("ImageButton")
	ExecBtn.Size = UDim2.new(0, 35, 0, 35)
	ExecBtn.Position = UDim2.new(1, -45, 0, 7)
	ExecBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	ExecBtn.Image = "rbxassetid://119065240115720"
	ExecBtn.ImageColor3 = Color3.fromRGB(255, 255, 255)
	ExecBtn.Parent = Btn
	Instance.new("UICorner", ExecBtn).CornerRadius = UDim.new(0, math.min(6, Settings.RoundedCorners))
	local ExecBtnTooltip = Instance.new("Frame")
	ExecBtnTooltip.Name = "ExecBtnTooltip"
	ExecBtnTooltip.Parent = ExecBtn
	ExecBtnTooltip.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
	ExecBtnTooltip.BorderColor3 = Color3.fromRGB(60, 60, 60)
	ExecBtnTooltip.BorderSizePixel = 1
	ExecBtnTooltip.Position = UDim2.new(0, 0, 0, -28)
	ExecBtnTooltip.Size = UDim2.new(0, 60, 0, 22)
	ExecBtnTooltip.Visible = false
	ExecBtnTooltip.ZIndex = 10
	local ExecBtnTooltipCorner = Instance.new("UICorner")
	ExecBtnTooltipCorner.CornerRadius = UDim.new(0, math.min(4, Settings.RoundedCorners))
	ExecBtnTooltipCorner.Parent = ExecBtnTooltip
	local ExecBtnTooltipText = Instance.new("TextLabel")
	ExecBtnTooltipText.Parent = ExecBtnTooltip
	ExecBtnTooltipText.BackgroundTransparency = 1
	ExecBtnTooltipText.Size = UDim2.new(1, 0, 1, 0)
	ExecBtnTooltipText.Font = Enum.Font.GothamSemibold
	ExecBtnTooltipText.Text = "Execute"
	ExecBtnTooltipText.TextColor3 = Color3.fromRGB(200, 200, 200)
	ExecBtnTooltipText.TextSize = 11
	ExecBtnTooltipText.ZIndex = 11
	ExecBtn.MouseEnter:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		ExecBtnTooltip.Visible = true
	end)
	ExecBtn.MouseLeave:Connect(function()
		ExecBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		ExecBtnTooltip.Visible = false
	end)
	ExecBtn.MouseButton1Click:Connect(function()
		local success, err = pcall(function()
			loadstring(game:HttpGet(data.url))()
		end)
		if success then
			ShowNotification("Success", "Executed: " .. data.name, "Success", 2)
		else
			ShowNotification("Execution Failed", tostring(err):sub(1, 100), "Error", 5)
		end
	end)
end

local function LoadGameScripts(filter)
	ClearList(GameScriptsList)
	for _, script in pairs(gameScripts) do
		if not filter or script.name:lower():find(filter:lower()) then
			CreateGameButton(script)
		end
	end
	GameScriptsList.CanvasSize = UDim2.new(0, 0, 0, GameListLayout.AbsoluteContentSize.Y + 10)
end

local function LoadUniScripts(filter)
	ClearList(UniScriptsList)
	for _, script in pairs(universalScripts) do
		if not filter or script.name:lower():find(filter:lower()) then
			CreateUniButton(script)
		end
	end
	UniScriptsList.CanvasSize = UDim2.new(0, 0, 0, UniListLayout.AbsoluteContentSize.Y + 10)
end

GameSearchButton.MouseButton1Click:Connect(function()
	LoadGameScripts(GameSearchBox.Text)
end)

GameSearchBox.FocusLost:Connect(function(enterPressed)
	if enterPressed then
		LoadGameScripts(GameSearchBox.Text)
	end
end)

UniSearchButton.MouseButton1Click:Connect(function()
	LoadUniScripts(UniSearchBox.Text)
end)

UniSearchBox.FocusLost:Connect(function(enterPressed)
	if enterPressed then
		LoadUniScripts(UniSearchBox.Text)
	end
end)

LoadGameScripts()
LoadUniScripts()
RefreshConfigList()

pcall(function()
	setfpscap(Settings.FPSCap)
end)

SwitchTab("Info")
